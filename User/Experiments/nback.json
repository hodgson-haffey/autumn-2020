{
  "all_procs": {
    "procedure_1.csv": [
      [
        "Item",
        "Trial Type",
        "Max Time",
        "Text",
        "Shuffle 1",
        "Shuffle 2",
        "survey",
        ""
      ],
      [
        "0",
        "instruct",
        "",
        "attempt 3",
        "",
        "off",
        "",
        ""
      ],
      [
        "0",
        "survey",
        "",
        "",
        "",
        "",
        "information sheet.csv",
        ""
      ],
      [
        "0",
        "survey",
        "",
        "",
        "",
        "",
        "consent_form.csv",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "<span style='font-size:16'><b>Practice of the Letters Task<br></b></span></span></span>\n<br>\n<u><b>It is advised that you complete the study on a laptop, desktop or tablet device for best screen presentation</b><u></u>.<br></u>\n<br>\n Firstly, we are going to have a practice of a task that you will complete 'for real' later on. This task is called the <b>Letters Task</b>. <br>\n<br>\nThis task will require you to look at letters on the screen presented one at a time. <br>\nYou will need to choose whether the current letter matches a letter presented some letters back.<br>\n<br>\nYou are going to complete <u>3 practice rounds</u> of the Letters Task.<br><br>\n\n To prepare, please place your dominant hand on the keyboard with your index and middle fingers resting on the \"n\" and \"m\" keys.<br>\n<br>\nAre you ready for the instructions for Round 1 of your practice?",
        "",
        "",
        "",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "Practice Round 1:  You are about to be presented with a series of letters. If the letter presented matches the one 1 letter before, then press \"m\" for \"match\". If not, press \"n\" for \"no match\". The first three trials will be \"no match\", so just press \"n\".",
        "off",
        "off",
        "",
        ""
      ],
      [
        "2 to 26",
        "nback",
        "user",
        "This is the start of practice Round 1.",
        "off",
        "off",
        "",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "Practice Round 2: You are about to be presented with a series of letters. If the letter presented matches the one 2 letters before, then press \"m\" for \"match\". If not, press \"n\" for \"no match\". The first three trials will be \"no match\", so just press \"n\".",
        "off",
        "off",
        "",
        ""
      ],
      [
        "27 to 51",
        "nback",
        "user",
        "This is the start of Practice Round 2.",
        "off",
        "off",
        "",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "Practice Round 3: You are about to be presented with a series of letters. If the letter presented matches the one 3 letters before, then press \"m\" for \"match\". If not, press \"n\" for \"no match\". The first three trials will be \"no match\", so just press \"n\".",
        "off",
        "off",
        "",
        ""
      ],
      [
        "52 to 76",
        "nback",
        "user",
        "This is the start of Practice Round 3.",
        "off",
        "off",
        "",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "This is the end of the Letters Task practice.",
        "off",
        "off",
        "",
        ""
      ],
      [
        "0",
        "survey",
        "",
        "",
        "",
        "",
        "demographics_example.csv",
        ""
      ],
      [
        "0",
        "survey",
        "",
        "",
        "",
        "",
        "panas.csv",
        ""
      ],
      [
        "0",
        "survey",
        "",
        "",
        "",
        "",
        "ffq.csv",
        ""
      ],
      [
        "0",
        "survey",
        "",
        "",
        "",
        "",
        "bond_lader_vas_mood.csv",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "Welcome to the Letters Task. This task will require you to look at letters on the screen presented one at a time. You will need to choose whether the current letter matches a letter presented some letters back. You are going to complete 3 rounds of the Letters Task. To prepare, please place your dominant hand on the keyboard with your index and middle fingers resting on the \"n\" and \"m\" keys. Are you ready for the instructions for Round 1?",
        "off",
        "off",
        "",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "Round 1:  You are about to be presented with a series of letters. If the letter presented matches the one 1 letter before, then press \"m\" for \"match\". If not, press \"n\" for \"no match\". The first three trials will be \"no match\", so just press \"n\".",
        "off",
        "block1",
        "",
        ""
      ],
      [
        "2 to 26",
        "nback",
        "user",
        "This is the start of Round 1.",
        "off",
        "block1",
        "",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "Round 2: You are about to be presented with a series of letters. If the letter presented matches the one 2 letters before, then press \"m\" for \"match\". If not, press \"n\" for \"no match\". The first three trials will be \"no match\", so just press \"n\".",
        "off",
        "block2",
        "",
        ""
      ],
      [
        "27 to 51",
        "nback",
        "user",
        "This is the start of Round 2.",
        "off",
        "block2",
        "",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "Round 3: You are about to be presented with a series of letters. If the letter presented matches the one 3 letters before, then press \"m\" for \"match\". If not, press \"n\" for \"no match\". The first three trials will be \"no match\", so just press \"n\".",
        "off",
        "block3",
        "",
        ""
      ],
      [
        "52 to 76",
        "nback",
        "user",
        "This is the start of Round 3.",
        "off",
        "block3",
        "",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "This is the end of the Letters Task.",
        "off",
        "off",
        "",
        ""
      ],
      [
        "0",
        "survey",
        "",
        "",
        "",
        "",
        "phq8.csv",
        ""
      ],
      [
        "0",
        "survey",
        "",
        "",
        "",
        "",
        "debrief.csv",
        ""
      ],
      [
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        ""
      ]
    ]
  },
  "cond_array": [
    [
      "Name",
      "Notes",
      "Stimuli",
      "Procedure",
      "fullscreen",
      "welcome",
      "participant_id",
      "end_message",
      "start_message",
      "buffer",
      ""
    ],
    [
      "condition_1",
      "You can put more detailed notes in this field",
      "stimuli_1.csv",
      "procedure_1.csv",
      "off",
      "",
      "on",
      "",
      "",
      "5",
      ""
    ],
    [
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      ""
    ]
  ],
  "all_stims": {
    "stimuli_1.csv": [
      [
        "Cue",
        "Answer",
        "Match",
        ""
      ],
      [
        "S",
        "n",
        "no",
        ""
      ],
      [
        "W",
        "n",
        "no",
        ""
      ],
      [
        "Q",
        "n",
        "no",
        ""
      ],
      [
        "Q",
        "m",
        "yes",
        ""
      ],
      [
        "F",
        "n",
        "no",
        ""
      ],
      [
        "F",
        "m",
        "yes",
        ""
      ],
      [
        "Q",
        "n",
        "no",
        ""
      ],
      [
        "K",
        "n",
        "no",
        ""
      ],
      [
        "K",
        "m",
        "yes",
        ""
      ],
      [
        "B",
        "n",
        "no",
        ""
      ],
      [
        "Y",
        "n",
        "no",
        ""
      ],
      [
        "Y",
        "m",
        "yes",
        ""
      ],
      [
        "Z",
        "n",
        "no",
        ""
      ],
      [
        "Z",
        "m",
        "yes",
        ""
      ],
      [
        "L",
        "n",
        "no",
        ""
      ],
      [
        "Z",
        "n",
        "no",
        ""
      ],
      [
        "S",
        "n",
        "no",
        ""
      ],
      [
        "S",
        "m",
        "yes",
        ""
      ],
      [
        "Y",
        "n",
        "no",
        ""
      ],
      [
        "J",
        "n",
        "no",
        ""
      ],
      [
        "J",
        "m",
        "yes",
        ""
      ],
      [
        "T",
        "n",
        "no",
        ""
      ],
      [
        "H",
        "n",
        "no",
        ""
      ],
      [
        "P",
        "n",
        "no",
        ""
      ],
      [
        "Z",
        "n",
        "no",
        ""
      ],
      [
        "P",
        "n",
        "no",
        ""
      ],
      [
        "G",
        "n",
        "no",
        ""
      ],
      [
        "C",
        "n",
        "no",
        ""
      ],
      [
        "G",
        "m",
        "yes",
        ""
      ],
      [
        "B",
        "n",
        "no",
        ""
      ],
      [
        "J",
        "n",
        "no",
        ""
      ],
      [
        "R",
        "n",
        "no",
        ""
      ],
      [
        "J",
        "m",
        "yes",
        ""
      ],
      [
        "R",
        "m",
        "yes",
        ""
      ],
      [
        "N",
        "n",
        "no",
        ""
      ],
      [
        "F",
        "n",
        "no",
        ""
      ],
      [
        "J",
        "n",
        "no",
        ""
      ],
      [
        "H",
        "n",
        "no",
        ""
      ],
      [
        "J",
        "m",
        "yes",
        ""
      ],
      [
        "V",
        "n",
        "no",
        ""
      ],
      [
        "Z",
        "n",
        "no",
        ""
      ],
      [
        "V",
        "m",
        "yes",
        ""
      ],
      [
        "V",
        "n",
        "no",
        ""
      ],
      [
        "K",
        "n",
        "no",
        ""
      ],
      [
        "Q",
        "n",
        "no",
        ""
      ],
      [
        "K",
        "m",
        "yes",
        ""
      ],
      [
        "W",
        "n",
        "no",
        ""
      ],
      [
        "K",
        "m",
        "yes",
        ""
      ],
      [
        "P",
        "n",
        "no",
        ""
      ],
      [
        "S",
        "n",
        "no",
        ""
      ],
      [
        "L",
        "n",
        "no",
        ""
      ],
      [
        "C",
        "n",
        "no",
        ""
      ],
      [
        "S",
        "n",
        "no",
        ""
      ],
      [
        "Q",
        "n",
        "no",
        ""
      ],
      [
        "C",
        "m",
        "yes",
        ""
      ],
      [
        "M",
        "n",
        "no",
        ""
      ],
      [
        "V",
        "n",
        "no",
        ""
      ],
      [
        "T",
        "n",
        "no",
        ""
      ],
      [
        "M",
        "m",
        "yes",
        ""
      ],
      [
        "B",
        "n",
        "no",
        ""
      ],
      [
        "T",
        "m",
        "yes",
        ""
      ],
      [
        "V",
        "n",
        "no",
        ""
      ],
      [
        "M",
        "n",
        "no",
        ""
      ],
      [
        "V",
        "n",
        "no",
        ""
      ],
      [
        "B",
        "n",
        "no",
        ""
      ],
      [
        "M",
        "m",
        "yes",
        ""
      ],
      [
        "V",
        "m",
        "yes",
        ""
      ],
      [
        "X",
        "n",
        "no",
        ""
      ],
      [
        "Z",
        "n",
        "no",
        ""
      ],
      [
        "Y",
        "n",
        "no",
        ""
      ],
      [
        "X",
        "m",
        "yes",
        ""
      ],
      [
        "H",
        "n",
        "no",
        ""
      ],
      [
        "Y",
        "m",
        "yes",
        ""
      ],
      [
        "S",
        "n",
        "no",
        ""
      ],
      [
        "W",
        "n",
        "no",
        ""
      ],
      [
        "",
        "",
        "",
        ""
      ]
    ]
  },
  "public_key": "Gag8f89c30cdKRaw8rhOKGiAdSY4iEVqzyl0kc91LGk=",
  "save_script": "https://script.google.com/macros/s/AKfycbxUdmSrh-QuHISYJuFloHuS6BrQDQ9nmtWziXyQTohACL1BdXo/exec",
  "parsed_procs": {
    "procedure_1.csv": [
      {
        "survey": "",
        "": "",
        "item": "0",
        "trial type": "instruct",
        "max time": "",
        "text": "attempt 3",
        "shuffle 1": "",
        "shuffle 2": "off"
      },
      {
        "survey": "information sheet.csv",
        "": "",
        "item": "0",
        "trial type": "survey",
        "max time": "",
        "text": "",
        "shuffle 1": "",
        "shuffle 2": ""
      },
      {
        "survey": "consent_form.csv",
        "": "",
        "item": "0",
        "trial type": "survey",
        "max time": "",
        "text": "",
        "shuffle 1": "",
        "shuffle 2": ""
      },
      {
        "survey": "",
        "": "",
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "<span style='font-size:16'><b>Practice of the Letters Task<br></b></span></span></span>\n<br>\n<u><b>It is advised that you complete the study on a laptop, desktop or tablet device for best screen presentation</b><u></u>.<br></u>\n<br>\n Firstly, we are going to have a practice of a task that you will complete 'for real' later on. This task is called the <b>Letters Task</b>. <br>\n<br>\nThis task will require you to look at letters on the screen presented one at a time. <br>\nYou will need to choose whether the current letter matches a letter presented some letters back.<br>\n<br>\nYou are going to complete <u>3 practice rounds</u> of the Letters Task.<br><br>\n\n To prepare, please place your dominant hand on the keyboard with your index and middle fingers resting on the \"n\" and \"m\" keys.<br>\n<br>\nAre you ready for the instructions for Round 1 of your practice?",
        "shuffle 1": "",
        "shuffle 2": ""
      },
      {
        "survey": "",
        "": "",
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "Practice Round 1:  You are about to be presented with a series of letters. If the letter presented matches the one 1 letter before, then press \"m\" for \"match\". If not, press \"n\" for \"no match\". The first three trials will be \"no match\", so just press \"n\".",
        "shuffle 1": "off",
        "shuffle 2": "off"
      },
      {
        "survey": "",
        "": "",
        "item": "2 to 26",
        "trial type": "nback",
        "max time": "user",
        "text": "This is the start of practice Round 1.",
        "shuffle 1": "off",
        "shuffle 2": "off"
      },
      {
        "survey": "",
        "": "",
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "Practice Round 2: You are about to be presented with a series of letters. If the letter presented matches the one 2 letters before, then press \"m\" for \"match\". If not, press \"n\" for \"no match\". The first three trials will be \"no match\", so just press \"n\".",
        "shuffle 1": "off",
        "shuffle 2": "off"
      },
      {
        "survey": "",
        "": "",
        "item": "27 to 51",
        "trial type": "nback",
        "max time": "user",
        "text": "This is the start of Practice Round 2.",
        "shuffle 1": "off",
        "shuffle 2": "off"
      },
      {
        "survey": "",
        "": "",
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "Practice Round 3: You are about to be presented with a series of letters. If the letter presented matches the one 3 letters before, then press \"m\" for \"match\". If not, press \"n\" for \"no match\". The first three trials will be \"no match\", so just press \"n\".",
        "shuffle 1": "off",
        "shuffle 2": "off"
      },
      {
        "survey": "",
        "": "",
        "item": "52 to 76",
        "trial type": "nback",
        "max time": "user",
        "text": "This is the start of Practice Round 3.",
        "shuffle 1": "off",
        "shuffle 2": "off"
      },
      {
        "survey": "",
        "": "",
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "This is the end of the Letters Task practice.",
        "shuffle 1": "off",
        "shuffle 2": "off"
      },
      {
        "survey": "demographics_example.csv",
        "": "",
        "item": "0",
        "trial type": "survey",
        "max time": "",
        "text": "",
        "shuffle 1": "",
        "shuffle 2": ""
      },
      {
        "survey": "panas.csv",
        "": "",
        "item": "0",
        "trial type": "survey",
        "max time": "",
        "text": "",
        "shuffle 1": "",
        "shuffle 2": ""
      },
      {
        "survey": "ffq.csv",
        "": "",
        "item": "0",
        "trial type": "survey",
        "max time": "",
        "text": "",
        "shuffle 1": "",
        "shuffle 2": ""
      },
      {
        "survey": "bond_lader_vas_mood.csv",
        "": "",
        "item": "0",
        "trial type": "survey",
        "max time": "",
        "text": "",
        "shuffle 1": "",
        "shuffle 2": ""
      },
      {
        "survey": "",
        "": "",
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "Welcome to the Letters Task. This task will require you to look at letters on the screen presented one at a time. You will need to choose whether the current letter matches a letter presented some letters back. You are going to complete 3 rounds of the Letters Task. To prepare, please place your dominant hand on the keyboard with your index and middle fingers resting on the \"n\" and \"m\" keys. Are you ready for the instructions for Round 1?",
        "shuffle 1": "off",
        "shuffle 2": "off"
      },
      {
        "survey": "",
        "": "",
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "Round 1:  You are about to be presented with a series of letters. If the letter presented matches the one 1 letter before, then press \"m\" for \"match\". If not, press \"n\" for \"no match\". The first three trials will be \"no match\", so just press \"n\".",
        "shuffle 1": "off",
        "shuffle 2": "block1"
      },
      {
        "survey": "",
        "": "",
        "item": "2 to 26",
        "trial type": "nback",
        "max time": "user",
        "text": "This is the start of Round 1.",
        "shuffle 1": "off",
        "shuffle 2": "block1"
      },
      {
        "survey": "",
        "": "",
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "Round 2: You are about to be presented with a series of letters. If the letter presented matches the one 2 letters before, then press \"m\" for \"match\". If not, press \"n\" for \"no match\". The first three trials will be \"no match\", so just press \"n\".",
        "shuffle 1": "off",
        "shuffle 2": "block2"
      },
      {
        "survey": "",
        "": "",
        "item": "27 to 51",
        "trial type": "nback",
        "max time": "user",
        "text": "This is the start of Round 2.",
        "shuffle 1": "off",
        "shuffle 2": "block2"
      },
      {
        "survey": "",
        "": "",
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "Round 3: You are about to be presented with a series of letters. If the letter presented matches the one 3 letters before, then press \"m\" for \"match\". If not, press \"n\" for \"no match\". The first three trials will be \"no match\", so just press \"n\".",
        "shuffle 1": "off",
        "shuffle 2": "block3"
      },
      {
        "survey": "",
        "": "",
        "item": "52 to 76",
        "trial type": "nback",
        "max time": "user",
        "text": "This is the start of Round 3.",
        "shuffle 1": "off",
        "shuffle 2": "block3"
      },
      {
        "survey": "",
        "": "",
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "This is the end of the Letters Task.",
        "shuffle 1": "off",
        "shuffle 2": "off"
      },
      {
        "survey": "phq8.csv",
        "": "",
        "item": "0",
        "trial type": "survey",
        "max time": "",
        "text": "",
        "shuffle 1": "",
        "shuffle 2": ""
      },
      {
        "survey": "debrief.csv",
        "": "",
        "item": "0",
        "trial type": "survey",
        "max time": "",
        "text": "",
        "shuffle 1": "",
        "shuffle 2": ""
      }
    ]
  },
  "surveys": {
    "information sheet.csv": [
      [
        "item_name",
        "text",
        "Type",
        "Answers",
        "Optional",
        "Values",
        null,
        null
      ],
      [
        "Information",
        "<b>Title of Study: Investigating The Effect of Flavonoid Consumption on Cognition and Mood in Young People</b>",
        "instruct",
        "",
        "",
        "Information",
        "<b>Title of Study: Investigating The Effect of Flavonoid Consumption on Cognition and Mood in Young People</b>",
        null
      ],
      [
        "info",
        "We would be grateful to you if you could assist us by participating in our online study exploring whether a diet rich in flavonoids is associated with mood and cognitive task performance. Flavonoids are naturally-occurring compounds found in foods such as berry & citrus fruits, leafy green vegetables, tea, chocolate and red wine. Previous research has shown that consumption of flavonoid-rich foods may improve cognition and mood.<br>\n\n<br>\nThe study will be completed online via a weblink and will not require any changes in diet. Your participation will be done in one sitting from any location where you have access to the internet. <b>It is advised that you complete the study on a laptop, desktop or tablet device for best screen presentation.</b> The study will take approximately 30 minutes, during which time you will complete a cognitive task and a set of questionnaires asking general information about you and asking questions about your mood and diet. <br>\n<br>\n\n\nYour data will be kept confidential and securely stored, with only an anonymous number identifying it. All information will be destroyed after a period of 5 years from the completion of the project. Taking part in this study is completely voluntary; you may withdraw at any time without having to give any reason. Please feel free to ask any questions that you may have about this study at any point. \n<br><br>\nIf you score above threshold for risk of depression you will be notified via email. Upon completion of the study all participants will be provided with mood & depression support links.<br><br>\n\nThis application has been reviewed by the University Research Ethics Committee and has been given a favourable ethical opinion for conduct.\n\nIf you have any questions or concerns then please get in contact with the study supervisor Dr Katie Barfoot through this email katie.barfoot@reading.ac.uk \n\nThank you for your help.",
        "instruct",
        "",
        "",
        "info",
        "We would be grateful to you if you could assist us by participating in our online study exploring whether a diet rich in flavonoids is associated with mood and cognitive task performance. Flavonoids are naturally-occurring compounds found in foods such as berry & citrus fruits, leafy green vegetables, tea, chocolate and red wine. Previous research has shown that consumption of flavonoid-rich foods may improve cognition and mood.<br>\n\n<br>\nThe study will be completed online via a weblink and will not require any changes in diet. Your participation will be done in one sitting from any location where you have access to the internet. It is advised that you complete the study on a laptop, desktop or tablet device for best screen presentation. The study will take approximately 30 minutes, during which time you will complete a cognitive task and a set of questionnaires asking general information about you and asking questions about your mood and diet. <br>\n<br>\n\n\nYour data will be kept confidential and securely stored, with only an anonymous number identifying it. All information will be destroyed after a period of 5 years from the completion of the project. Taking part in this study is completely voluntary; you may withdraw at any time without having to give any reason. Please feel free to ask any questions that you may have about this study at any point. \n<br><br>\nIf you score above threshold for risk of depression you will be notified via email. Upon completion of the study all participants will be provided with mood & depression support links.<br><br>\n\nThis application has been reviewed by the University Research Ethics Committee and has been given a favourable ethical opinion for conduct.\n\nIf you have any questions or concerns then please get in contact with the study supervisor Dr Katie Barfoot through this email katie.barfoot@reading.ac.uk \n\nThank you for your help.",
        null
      ],
      [
        "proceed",
        "<b> Would you like to proceed?</b><span style='font-size:16'></span>",
        "instruct",
        "Proceed",
        "no",
        "proceed",
        "<b> Would you like to proceed?</b><span style='font-size:16'></span>",
        null
      ],
      [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    ],
    "consent_form.csv": [
      [
        "item_name",
        "text",
        "Type",
        "Answers",
        "Optional",
        "Values",
        null
      ],
      [
        "title",
        "<b>Please select 'Yes' after each statement to confirm it has been read and agreed to.</b>",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "A1",
        "I have read and had explained to me by Hannah-Rose Human, Lyana Halawi or Tatiana Tavares the accompanying Information Sheet relating to the project on: the effect of flavonoid consumption on cognition and mood in young people",
        "likert",
        "Yes | No",
        "no",
        null,
        null
      ],
      [
        "A2",
        "I have had explained to me the purposes of the project and what will be required of me, and any questions I have had have been answered to my satisfaction. I agree to the arrangements described in the Information Sheet in so far as they relate to my participation. ",
        "likert",
        "Yes | No",
        "no",
        null,
        null
      ],
      [
        "A3",
        "I have had explained to me what information will be collected about me, what it will be used for, who it may be shared with, how it will be kept safe, and my rights in relation to my data. ",
        "likert",
        "Yes | No",
        "no",
        null,
        null
      ],
      [
        "A4",
        "I understand that participation is entirely voluntary and that I have the right to withdraw from the project any time, and that this will be without detriment. ",
        "likert",
        "Yes | No",
        "no",
        null,
        null
      ],
      [
        "A5",
        "I understand that the data collected from me in this study will be preserved and made available in anonymised form, so that they can be consulted and re-used by others. ",
        "likert",
        "Yes | No",
        "no",
        null,
        null
      ],
      [
        "A6",
        "I understand that this project has been reviewed by the University Research Ethics Committee and National Research Ethics committee where relevant and has been given a favourable ethical opinion for conduct. ",
        "likert",
        "Yes | No",
        "no",
        null,
        null
      ],
      [
        "A8",
        "Please input your initials in place of a signature",
        "Text",
        null,
        "no",
        null,
        null
      ],
      [
        "A9",
        "Today's date (DD/MM/YY)",
        "Text",
        null,
        "no",
        null,
        null
      ],
      [
        "A10",
        "Date of birth (DD/MM/YY)",
        "Text",
        null,
        "no",
        null,
        null
      ],
      [
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    ],
    "demographics_example.csv": [
      [
        "item_name",
        "text",
        "Type",
        "Answers",
        "Optional",
        null
      ],
      [
        "About_you",
        "<b>Information about you</b>",
        "instruct",
        null,
        null,
        null
      ],
      [
        "Gender",
        "Gender",
        "likert",
        "Male|Female|Other|Prefer not to say",
        "No",
        null
      ],
      [
        "Age",
        "Age",
        "Number",
        "",
        "No",
        null
      ],
      [
        "Education",
        "Education (which level are you currently in, or is the highest you've completed)",
        "likert",
        "Some secondary school| Secondary school graduate| Some college, no degree| College graduate| University Bachelor degree|University Graduate degree (Master, Doctorate, etc.)",
        "No",
        null
      ],
      [
        "Native_Language",
        "What is your native language?",
        "Text",
        "",
        "No",
        null
      ],
      [
        "English_Fluency",
        "Do you speak English fluently?",
        "likert",
        "Yes|No",
        "No",
        null
      ],
      [
        "English_Age",
        "At what age did you start learning English? (write \"0\" if from birth)",
        "Number",
        "",
        "No",
        null
      ],
      [
        "Country",
        "What is your country of residence?",
        "Text",
        "",
        "No",
        null
      ],
      [
        "Handedness",
        "What is your preferred hand?",
        "Likert",
        "Left|Right|Both",
        "No",
        null
      ],
      [
        "Ethnicity",
        "If you would like to please state your ethnicity",
        "Text",
        "",
        "Yes",
        null
      ],
      [
        "Vision",
        "Do you have normal or corrected vision?",
        "Text",
        "",
        "No",
        null
      ],
      [
        "Exercise",
        "How often do you exercise?",
        "likert",
        "Less than 1 time per week|1 time per week|2-3 times per week|4-5 times per week|6+ times per week",
        "No",
        null
      ],
      [
        "Mental_Health_History",
        "Have you got any diagnosed mental health disorders?",
        "likert",
        "Yes|No",
        "No",
        null
      ],
      [
        "mental_Health_Details",
        "If yes, what is/are your diagnoses?",
        "Text",
        "",
        "",
        null
      ],
      [
        "Physical_health",
        "Have you got any diagnosed physical health disorders?",
        "likert",
        "Yes|No",
        "No",
        null
      ],
      [
        "Physical_health_details",
        "If yes, what is/are your diagnoses?",
        "Text",
        "",
        "",
        null
      ],
      [
        "Sleep",
        "How long, on average, do you sleep every night?",
        "likert",
        "Less than 5 hours|6-7 hours|8-9 hours|10+ hours",
        "No",
        null
      ],
      [
        null,
        null,
        null,
        null,
        null,
        null
      ]
    ],
    "panas.csv": [
      [
        "item_name",
        "text",
        "Type",
        "Answers",
        "Values",
        "Score: Positive_affect",
        "Score: Negative_affect",
        "Optional",
        null
      ],
      [
        "Instructions1",
        "Please rate how you currently feel. Choose one response that best describes how strongly each item applies to you RIGHT NOW:",
        "Instruct",
        "",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "AQ1",
        "Interested",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ2",
        "Distressed",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ3",
        "Excited",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ4",
        "Upset",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ5",
        "Strong",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ6",
        "Guilty",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ7",
        "Scared",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ8",
        "Hostile",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ9",
        "Enthusiastic",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ10",
        "Proud",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ11",
        "Irritable",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ12",
        "Alert",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ13",
        "Ashamed",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ14",
        "Inspired",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ15",
        "Nervous",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ16",
        "Determined",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ17",
        "Attentive",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ18",
        "Jittery",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ19",
        "Active",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ20",
        "Afraid",
        "likert",
        "Extremely|Quite a bit|Moderately|A little|Very slightly or not at all",
        "1|1|0|-1|-1",
        "",
        "1",
        "No",
        null
      ],
      [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    ],
    "ffq.csv": [
      [
        "item_name",
        "text",
        "Type",
        "Answers",
        "Values",
        "Score: High_Flavonoid_Foods",
        "Score: Junk_Food",
        "Score: Dairy",
        "Score: Alcohol",
        "Optional",
        null
      ],
      [
        "Instructions1",
        "Please estimate your average food use as best as you can, and please answer every question - do not leave ANY lines blank. PLEASE SELECT AN ANSWER FOR EVERY LINE.",
        "Instruct",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "AQ1",
        "Pizza",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ2",
        "Low fat yogurt, fromage (125g carton)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ3",
        "Full fat or Greek yogurt (125g carton)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ4",
        "Dairy desserts (125g carton)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ5",
        "Cheese, e.g. Cheddar, Brie, Edam (medium serving)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ6",
        " Cottage cheese, low fat soft cheese (medium serving)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "",
        "1",
        "",
        "No",
        null
      ],
      [
        "AQ7",
        "Sweet biscuits, chocolate, e.g. digestive (one)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ8",
        "Sweet biscuits, plain e.g. Nice, ginger (one)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ9",
        "Cakes e.g. fruit, sponge, home baked",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ10",
        "Cakes  e.g. fruit, sponge, ready made",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ11",
        "Buns, pastries e.g. scones, flapjacks, homebaked",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ12",
        "Buns, pastries e.g. croissants, doughnuts, ready made",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ13",
        "Fruit pies, tarts, crumbles, home baked ",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ14",
        "Fruit pies, tarts, crumbles, ready made",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ15",
        "Sponge puddings, home baked",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ16",
        "Sponge puddings, ready made",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ17",
        "Milk puddings, e.g. rice, custard, trifle ",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ18",
        "Ice cream, choc ices",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ19",
        "Dark Chocolates, single or squares",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ20",
        "Sweets, toffees, mints",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ21",
        "Crisps or other packet snacks, e.g. Wotsits",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ22",
        "Leafy Green Vegetable soups (bowl)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ23",
        "Black tea (cup)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ24",
        "Green tea (cup)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ25",
        "Fruit tea (cup)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ26",
        "White tea (cup)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ27",
        "Other tea (cup)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ28",
        "Coffee, instant or ground (cup)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ29",
        "Cocoa, hot chocolate (cup)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ30",
        "White wine (glass)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ31",
        "Red wine (glass)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ32",
        "Rose wine (glass)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ33",
        "Beer, lager or cider (half pint)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ34",
        "Port, sherry, vermouth, liqueurs (glass)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ35",
        "Spirits, e.g. gin, brandy, whisky, vodka (single)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "",
        "",
        "1",
        "No",
        null
      ],
      [
        "AQ36",
        "Low calorie or diet fizzy soft drinks (glass)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ37",
        "Fizzy soft drinks, e.g. Coca cola, lemonade (glass)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        " ",
        "1",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ38",
        "Pure fruit juice (100%) e.g. orange, apple juice (glass)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ388",
        "Apples",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        null,
        null,
        null,
        "No",
        null
      ],
      [
        "AQ39",
        "Oranges, satsumas, mandarins (1 fruit)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ40",
        "Grapefruit (medium serving)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ41",
        "Strawberries, raspberries, blueberries (medium serving)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ42",
        "Dried fruit - raisins, cranberries, blueberries  (medium serving)",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ43",
        "Broccoli, spring greens, kale",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ44",
        "Leeks",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ45",
        "Onions",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        "AQ46",
        "Tomatoes",
        "likert",
        "Never or less than once/month|1-3 per month|Once a week|2-4 per week|5-6 per week|Once a day|2-3 per day|4-5 per day|6+ per day",
        "0|1|2|3|4|5|6|7|8",
        "1",
        "",
        "",
        "",
        "No",
        null
      ],
      [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    ],
    "bond_lader_vas_mood.csv": [
      [
        "item_name",
        "text",
        "Type",
        "Answers",
        "Values",
        "Optional",
        null
      ],
      [
        "Instructions1",
        "Please rate the way you feel in terms of the dimensions given below, inputting a score from 0-100. Regard the term on the left hand side as 0 and the term on the right hand side as 100. Rate your feelings as they are AT THE MOMENT.",
        "Instruct",
        "",
        "",
        "",
        null
      ],
      [
        "AQ1",
        "Alert - Drowsy",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ2",
        "Calm - Excited",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ3",
        "Strong - Feeble",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ4",
        "Muzzy - Clear-Headed",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ5",
        "Well-Coordinated - Clumsy",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ6",
        "Lethargic - Energic",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ7",
        "Contended - Discontented",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ8",
        "Troubled - Tranquil",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ9",
        "Mentally Slow - Quick-Witted",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ10",
        "Tense - Relaxed",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ11",
        "Attentive - Dreamy",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ12",
        "Incompetent - Proficient",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ13",
        "Happy - Sad",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ14",
        "Antagonistic - Amicable",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ15",
        "Interested - Bored",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        "AQ16",
        "Withdrawn - Gregarious",
        "number",
        "",
        "0|100",
        "No",
        null
      ],
      [
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    ],
    "phq8.csv": [
      [
        "item_name",
        "text",
        "Type",
        "Answers",
        "Values",
        "Optional",
        null
      ],
      [
        "Instructions1",
        "Choose one response that best describes how strongly each item applies to you:",
        "Instruct",
        "",
        "",
        "",
        null
      ],
      [
        "AQ1",
        "Little interest or pleasure in doing things",
        "likert",
        "Not at all|Several days|More than half the days|Nearly every day",
        "0|1|2|3",
        "No",
        null
      ],
      [
        "AQ2",
        "Feeling down, depressed, or hopeless",
        "likert",
        "Not at all|Several days|More than half the days|Nearly every day",
        "0|1|2|3",
        "No",
        null
      ],
      [
        "AQ3",
        "Trouble falling or staying asleep, or sleeping too much",
        "likert",
        "Not at all|Several days|More than half the days|Nearly every day",
        "0|1|2|3",
        "No",
        null
      ],
      [
        "AQ4",
        "Feeling tired or having little energy",
        "likert",
        "Not at all|Several days|More than half the days|Nearly every day",
        "0|1|2|3",
        "No",
        null
      ],
      [
        "AQ5",
        "Poor appetite or overeating",
        "likert",
        "Not at all|Several days|More than half the days|Nearly every day",
        "0|1|2|3",
        "No",
        null
      ],
      [
        "AQ6",
        "Feeling bad about yourself, or that you are a failure, or have let yourself or your family down",
        "likert",
        "Not at all|Several days|More than half the days|Nearly every day",
        "0|1|2|3",
        "No",
        null
      ],
      [
        "AQ7",
        "Trouble concentrating on things, such as reading the newspaper or watching television",
        "likert",
        "Not at all|Several days|More than half the days|Nearly every day",
        "0|1|2|3",
        "No",
        null
      ],
      [
        "AQ8",
        "Moving or speaking so slowly that other people could have noticed. Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual",
        "likert",
        "Not at all|Several days|More than half the days|Nearly every day",
        "0|1|2|3",
        "No",
        null
      ],
      [
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    ],
    "debrief.csv": [
      [
        "item_name",
        "text",
        "Type",
        "Answers",
        "Optional",
        "Values",
        "",
        null
      ],
      [
        "Information",
        "<b>Debrief Sheet</b><br>\n<br>\n<b>Project title: The effect of flavonoid consumption on cognition and mood in young people.</b>",
        "instruct",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "info",
        "Thank you for taking part in this study, we are very grateful for your contribution. ",
        "instruct",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "",
        "This study aims to explore whether flavonoid intake is related to mood and cognition. Flavonoids are naturally occurring compounds found in foods such as berry and citrus fruits, leafy green vegetables, dark chocolate, tea and red wine. Previous research has found that flavonoids may have a beneficial effect on cognition and mood in children and older adults, however little research has investigated these effects in healthy young adults. In the current study, participants were asked to answer questionnaires on habitual diet and mood and were also asked to complete a cognitive task.",
        "instruct",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "",
        "Your data will be securely stored and kept confidential. It will be automatically anonymized and cannot be traced back to you. If you choose to withdraw (see details on how to do this below), your data will not be used but will be stored along with the data of the other participants.",
        "instruct",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "",
        "If you have any concerns about the research, please contact the project supervisor, Dr. Katie Barfoot.",
        "instruct",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "",
        "Email: katie.barfoot@reading.ac.uk ",
        "instruct",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "",
        "If you choose to withdraw, if you would like further information about the study or if you would like to know about the findings once the study is complete, then please contact one of the researchers, Hannah-Rose Human, Lyana Halawi or Tatiana Tavares, via email.",
        "instruct",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "",
        "Email: h.human@student.reading.ac.uk",
        "instruct",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "",
        "Email: l.halawi@student.reading.ac.uk",
        "instruct",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "",
        "Email: t.fernandestavares@student.reading.ac.uk",
        "instruct",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "contact",
        "If taking part in this study has raised any specific concerns about your mental health then we would suggest you <b>contact your general practitioner (GP).</b> \nWe have also provided some <b>helpful links and contacts below</b> should you wish to seek further support.<br>\n<br>\n\n\n<b>Samaritans</b>: the Samaritans provide a 24/7 hotline for people to confidentially talk about their feelings and problems.<br>\n\nEmail: jo@Samaritans.org , Tel: 116 123<br>\n<br>\n\n\n<b>NHS mental health helplines:</b> https://www.nhs.uk/conditions/stress-anxiety-depression/mental-health-helplines/ <br>\n<br>\n\n\n<b>\nStudent Welfare Team:</b> students at the University of Reading have the opportunity to contact the Student Welfare Team to support them with difficulties they might be facing.\nWebsite: http://student.reading.ac.uk/essentials/_support-and-wellbeing/support-arrangements/welfare.aspx \nEmail: studentwelfare@reading.ac.uk",
        "instruct",
        "",
        "",
        "",
        "contact",
        null
      ],
      [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    ]
  },
  "trialtypes": {
    "instruct": "<!--\n/*  Collector (Garcia, Kornell, Kerr, Blake & Haffey)\n    A program for running experiments on the web\n    Copyright 2012-2016 Mikey Garcia & Nate Kornell\n\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License version 3 as published by\n    the Free Software Foundation.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>\n \t\t\n\t\tKitten release (2019) author: Dr. Anthony Haffey (team@someopen.solutions)\t\t\n*/\n-->\n<style>\n#instruct_text{\n  margin:auto;\n  width:500px;\n  padding:50px;\n  max-height:600px;\n  text-align: center;  \n}\n#proceed_button{\n  position:absolute;\n  right: 20px;\n}\n#trial_contents{\n  position: absolute;\n  top:0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin:auto;\n  width:600;\n  height:600;\n}\n</style>\n<div id=\"trial_contents\">\n  <div id=\"instruct_text\">{{text}}</div>\n  <div>\n    <button class=\"btn btn-primary\" id=\"proceed_button\" onclick=\"Trial.submit()\">Proceed</button>\n  </div>\n</div>",
    "nback": "<!--\n/*  Collector (Garcia, Kornell, Kerr, Blake & Haffey)\n    A program for running experiments on the web\n    Copyright 2012-2016 Mikey Garcia & Nate Kornell\n\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License version 3 as published by\n    the Free Software Foundation.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>\n \t\t\n\t\tKitten release (2020) author: Dr. Anthony Haffey (a.haffey@reading.ac.uk)\t\t\n*/\n-->\n<style>\n#current_letter{\n  margin:auto;\n  width:500px;\n  padding:50px;\n  height:600px;\n  text-align: center;\n  font-size:100px;\n  display:none;\n}\n#proceed_button{\n  position:absolute;\n  right: 20px;\n}\n#trial_contents{\n  position: absolute;\n  top:0px;\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  margin:auto;\n  width:600px;\n  height:600px;\n}\n</style>\n<div id=\"trial_contents\">\n  <div id=\"current_letter\">{{cue}}</div>\n</div>\n<input type=\"hidden\" name=\"response_letter\" id=\"response_letter\"/>\n<input type=\"hidden\" name=\"nback_rt\" id=\"nback_rt\"/>\n<script>\nTrial.set_timer(function(){\n  //Show the stimulus\n  $(\"#current_letter\").show();\n  baseline_time = (new Date()).getTime();  // this is just what the time is right now\n  //Accept the responses\n  var first_response = false;\n  $(window).bind('keydown', function(event) {\n    var this_key = String.fromCharCode(event.which).toLowerCase();\n  \tswitch(this_key){\n  \t  case \"m\":\n  \t  case \"n\":\n  \t    if(first_response == false){\n  \t      response_time = (new Date()).getTime();  // this is just what the time is right now\n  \t      $(\"#nback_rt\").val(response_time - baseline_time);\n  \t      first_response = true;\n  \t      $(\"#response_letter\").val(this_key);\n  \t    }\n  \t    break;\n  \t}\n  });\n  setTimeout(function(){\n    $(\"#current_letter\").hide();\n    \n    setTimeout(function(){\n      Trial.submit();\n    },2500);\n  },500);\n},0);\n\n\nsetTimeout(function(){\n    \n    \n    \n    \n    \n  },500);\n\n</script>\n\n",
    "practice": null,
    "nback_prepare": "<!--\n/*  Collector (Garcia, Kornell, Kerr, Blake & Haffey)\n    A program for running experiments on the web\n    Copyright 2012-2016 Mikey Garcia & Nate Kornell\n\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License version 3 as published by\n    the Free Software Foundation.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>\n \t\t\n\t\tKitten release (2020) author: Dr. Anthony Haffey (a.haffey@reading.ac.uk)\t\t\n*/\n-->\n<script>\nif(typeof(parent.parent.exp_json.storage) == \"undefined\"){\n  //prepare all trials\n  \n  letter_array = \"{{characters}}\".split(\"\");\n  \n  number_of_trials = {{number_of_trials}};\n  \n  array_repeats = Math.ceil(number_of_trials/letter_array.length);\n  \n  shuffled_letters = [];\n  for(var i = 0; i < array_repeats; i++){\n    shuffled_letters.concat(letter_array);\n  }\n  shuffled_letters = shuffle(shuffled_letters);\n  \n  \n  // insert matches\n  \n  \n  \n  \n\n  \n  for(var i = 0; i < {{letter_gap}}; i++){\n    letter_array.push(null);\n  }\n  letter_array.push(this_letter);\n  response_letter = null;\n} else {\n  letter_array = Trial.get(\"letter_array\");\n  letter_array.push(this_letter);\n  response_letter = letter_array.splice(0,1);\n}\n\n\nvar this_letter = \"{{cue}}\";\nvar letter_array;\n$(\"#current_letter\").html(this_letter);\n\n\n//solution from https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array\nfunction shuffle(array) {\n  var currentIndex = array.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\n\n\n</script>\n\n",
    "survey": "<!--\r\n  Author: Dr. Anthony Haffey\r\n\r\n  Collector: Cat/Kitten release\r\n  A program for running experiments on the web\r\n  Copyright 2012-2018 Mikey Garcia & Nate Kornell\r\n\r\n\r\n  This program is free software: you can redistribute it and/or modify\r\n  it under the terms of the GNU General Public License version 3 as published by\r\n  the Free Software Foundation.\r\n\r\n  This program is distributed in the hope that it will be useful,\r\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  GNU General Public License for more details.\r\n\r\n  You should have received a copy of the GNU General Public License\r\n  along with this program.  If not, see <http://www.gnu.org/licenses/>\r\n\r\n  Kitten release (2019) author: Dr. Anthony Haffey (team@someopen.solutions)\r\n-->\r\n<style>\r\nbody{\r\n  background-color:#5F9EA0;\r\n  width:100%;\r\n  height:100%;\r\n}\r\ntd{\r\n  padding:10px;\r\n  vertical-align: top;\r\n}\r\n\r\n/*\r\n*\telements by id\r\n*/\r\n\r\n#content{\r\n  width:95%;\r\n}\r\n#proceed_button{\r\n  display:none;\r\n  float:right;\r\n}\r\n#this_survey_id{\r\n  padding:            20px;\r\n  display:            none;\r\n}\r\n#survey_outline{\r\n\tposition: \t\t\t\t\tfixed;\r\n  top: \t\t\t\t\t\t\t\t50%;\r\n  left: \t\t\t\t\t\t\t50%;\r\n\theight: \t\t\t\t\t\t90%;\r\n\toverflow: \t\t\t\t\tauto;\r\n\t-webkit-transform: \ttranslate(-50%, -50%);\r\n  transform: \t\t\t\t\ttranslate(-50%, -50%);\r\n  background-color: \twhite;\r\n\tmin-width:        \t900px;\r\n\tmax-width:        \t9000px;\r\n\tborder-radius:    \t20px;\r\n  border-color:     \t#069;\r\n  border-style:     \tsolid;\r\n  border-width:     \t5px;\r\n\tpadding:            10px;\r\n}\r\n#survey_tabs{\r\n  padding:            20px;\r\n}\r\n\r\n\r\n/*\r\n*\telements by class\r\n*/\r\n.feedback_span_multiple{\r\n  display: none;\r\n  margin:  10px;\r\n}\r\n.feedback_span_single{\r\n  display: none;\r\n  padding: 10px;\r\n}\r\n.likert_table td{\r\n  padding:    1px;\r\n  text-align: center;\r\n}\r\n.likert_table td:hover{\r\n  color: blue;\r\n}\r\n.score_total{\r\n  display: none;\r\n}\r\n.show_tab{\r\n  margin: 5px;\r\n}\r\n.survey_btn{\r\n\twhite-space: normal;\r\n\tword-wrap: \t initial;\r\n}\r\n.table_break{\r\n\twidth:    100%;\r\n\theight:   300px;\r\n\toverflow: auto;\r\n}\r\n\r\n\r\n/*\r\n* by Bora Alp Arat at https://stackoverflow.com/questions/21684101/css-vertical-scrollbar-padding-left-right-in-ul-possible\r\n*/\r\n::-webkit-scrollbar {\r\n  width: 14px;\r\n  height: 18px;\r\n}\r\n::-webkit-scrollbar-thumb {\r\n  height: 6px;\r\n  border: 4px solid rgba(0, 0, 0, 0);\r\n  background-clip: padding-box;\r\n\t-webkit-border-radius: 7px;\r\n  background-color: rgba(0, 102, 153, 0.5);\r\n  -webkit-box-shadow: inset -1px -1px 0px rgba(0, 0, 0, 0.05), inset 1px 1px 0px rgba(0, 0, 0, 0.05);\r\n}\r\n::-webkit-scrollbar-button {\r\n  width: 0;\r\n  height: 0;\r\n  display: none;\r\n}\r\n::-webkit-scrollbar-corner {\r\n  background-color: transparent;\r\n}\r\n</style>\r\n<div id=\"everything\">\r\n\t<div id=\"survey_outline\"></div>\r\n</div>\r\n<script>\r\n/////////////////////////\r\n// Retrieving settings //\r\n/////////////////////////\r\n\r\nif(typeof(settings) !== \"undefined\"){\r\n  settings = [settings];\r\n} else {\r\n  settings = {};\r\n}\r\n\r\n//////////////////////////////////\r\n// vertical vs. horizontal tabs //\r\n//////////////////////////////////\r\n\r\nif(typeof(settings.tab_hor_vert) == \"undefined\" || settings.tab_hor_vert.toLowerCase() == \"horizontal\"){\r\n  settings.tab_hor_vert = \"horizontal\";\r\n  $(\"#survey_outline\").html(  '<div id=\"please_wait_div\">Loading... Please wait</div>'+\r\n                              '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>'+\r\n                              '<div id=\"survey_tabs\" style=\"text-align:right\" class=\"border-top border-primary\"></div><input type=\"submit\" value=\"Proceed\" class=\"btn btn-primary\" id=\"proceed_button\">');\r\n\r\n} else if (settings.tab_hor_vert.toLowerCase() == \"vertical\"){\r\n  $(\"#survey_outline\").html( '<table>'+\r\n                                '<tr>'+\r\n                                  '<td valign=\"top\" class=\"border-right border-primary\">'+\r\n                                    '<div id=\"survey_tabs\"></div></td>' +\r\n                                  '<td>'+\r\n                                    '<div id=\"please_wait_div\">Please wait while survey is downloading</div>'+\r\n                                    '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>' +\r\n                                    '<input type=\"button\" value=\"Proceed\" class=\"btn btn-primary\" id=\"proceed_button\">'+\r\n                                  '</td>'+\r\n                                '</tr>'+\r\n                              '</table>');\r\n} else if(settings.tab_hor_vert.toLowerCase() == \"none\"){\r\n  $(\"#survey_outline\").html(  '<div id=\"survey_tabs\" style=\"display:none\"></div>' +\r\n                              '<div id=\"please_wait_div\">Please wait while survey is downloading</div>'+\r\n                              '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>');\r\n} else {\r\n  bootbox.alert(\"If you are the researcher, please check the 'settings for this survey. The input for 'tab_hor_vert' appears to be invalid. Please change it to 'horizontal' or 'vertical' or 'none' or remove 'tab_hot_vert' altogether from the settings, which will make the tabs invisible\");\r\n}\r\n</script>\r\n\r\n<span id=\"scales_span\"></span>\r\n\r\n<script>\r\n\r\n//////////////////////\r\n// Defining objects //\r\n//////////////////////\r\n\r\npage_break_management = {\r\n  breaks_remaining : 0,\r\n  breaks_index     : 0\r\n}\r\n\r\nproceed_object = {\r\n  type:[],\r\n  name:[],\r\n  break_no:[]\r\n};\r\n\r\nscoring_object={\r\n  scales:[],\r\n  scale_scores:[],\r\n  update_scales:function(this_survey){\r\n    headers = Object.keys(this_survey[0]);\r\n    this.scales = headers.filter(elm => elm.includes(\"score:\"));\r\n    var scales_html = '';\r\n    this.scales.forEach(function(element){\r\n      element = element.replace(\": \",\":\");\r\n      scales_html += \"<input name='\"+element.replace(/ |:/g,\"_\")+\"' class='score_total \"+element.replace(/ |:/g,\"_\")+\"' disabled>\";\r\n    });\r\n    $(\"#scales_span\").html(scales_html);\r\n  }\r\n}\r\n\r\nsurvey_obj = {};\r\n\r\n\r\n/////////////////////\r\n// Element actions //\r\n/////////////////////\r\n\r\n/*\r\n$(function() {\r\n  $( \".datepicker\" ).datepicker({\r\n    dateFormat : 'mm/dd/yy',\r\n    changeMonth : true,\r\n    changeYear : true,\r\n    yearRange: '-100y:c+nn',\r\n    maxDate: '-1d'\r\n  });\r\n});\r\n*/\r\n\r\n\r\n$('#ExperimentContainer').css('transform','scale(1,1)');\r\n\r\n$(\"#proceed_button\").on(\"click\",function(){\r\n  var proceed = true;\r\n  var tabs    = document.getElementsByClassName('show_tab active');\r\n  if(tabs.length > 0){\r\n    var current_tab       = document.getElementsByClassName('show_tab active')[0]\r\n                                    .id\r\n                                    .replace(\"_button\", \"\")\r\n                                    .replace(\"tab_\",    \"\");\r\n    var response_elements = $('#table_'+current_tab).find('.response_element');\r\n\r\n  } else {\r\n    response_elements = $(\".table_break:visible\").find(\".response_element\");\r\n  }\r\n\r\n  for(var i = 0; i < response_elements.length; i++){\r\n    [this_row_no,item_name] = retrieve_row_no_item_name(response_elements[i]);\r\n    var this_optional = survey_obj.data[this_row_no].optional.toLowerCase();\r\n\r\n    if(this_optional.indexOf(\"no\") !== -1){\r\n      this_optional = this_optional.split(\"-\");       // find out whether there's a minimal number of responses\r\n      if(this_optional.length == 1){                  // default is that length needs to be at least 1\r\n        var min_resp_length = 1;\r\n      } else if(this_optional.length == 2) {\r\n        var min_resp_length = this_optional[1];\r\n      } else {\r\n        bootbox.alert(\"Error - you appear to have too many '-' characters in the 'optional' column\");\r\n        return false;\r\n      }\r\n    } else {\r\n      min_resp_length = 0;\r\n    }\r\n\r\n\r\n    var quest_resp = isJSON($(\"#\"+response_elements[i].id).val());\r\n    if (quest_resp.length < min_resp_length){\r\n      proceed = false;\r\n\t\t\t$(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-dark\");\r\n      $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-success\");\r\n      $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).addClass(\"text-danger\");\r\n    } else {\r\n\t\t\t$(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-dark\");\r\n      $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-danger\");\r\n      $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).addClass(\"text-success\");\r\n    }\r\n  }\r\n\r\n  if(current_tab == survey_obj.tabs && proceed){\r\n    if(typeof(sql_surveys) == \"undefined\"){\r\n      //$(\".table_break\");\r\n      var next_table_no = parseFloat($(\".table_break:visible\")[0].id.replace(\"table\",\"\")) + 1;\r\n\r\n      if($(\".table_break#table\"+next_table_no).length == 0){\r\n        if(typeof(Trial) !== \"undefined\"){\r\n          Trial.submit();\r\n        } else {\r\n          bootbox.alert(\"You've finished! Click on the preview button to restart.\")\r\n        }\r\n      } else {\r\n        $(\".table_break\").hide();\r\n        $(\".table_break#table\" + next_table_no).show();\r\n      }\r\n    } else {\r\n      $(\"#survey_outline\").html(\"<h1> You have finished the preview of this survey.</h1>\");\r\n    }\r\n  } else if(current_tab < survey_obj.tabs && proceed) {\r\n    current_tab ++;\r\n    $(\"#tab_\"+current_tab+\"_button\").removeClass(\"btn-secondary\");\r\n    $(\"#tab_\"+current_tab+\"_button\").removeClass(\"disabled\");\r\n    $(\"#tab_\"+current_tab+\"_button\").addClass(\"btn-outline-dark\");\r\n    $(\"#tab_\"+current_tab+\"_button\").click();\r\n  } else if(proceed == false){\r\n    bootbox.alert(\"You have failed to complete at least one compulsory input.\");\r\n  } else if(current_tab > survey_obj.tabs){\r\n    bootbox.alert(\"Error - please contact the Collector team about this problem, error 'Survey_001'.\");\r\n  }\r\n});\r\n\r\n//by qwerty at https://stackoverflow.com/questions/2116558/fastest-method-to-replace-all-instances-of-a-character-in-a-string\r\nString.prototype.replaceAll = function(str1, str2, ignore){\r\n  return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g,\"\\\\$&\"),(ignore?\"gi\":\"g\")),(typeof(str2)==\"string\")?str2.replace(/\\$/g,\"$$$$\"):str2);\r\n}\r\n\r\n\r\n///////////////\r\n// Functions //\r\n///////////////\r\n\r\nfunction clean_item(this_item){\r\n  if(this_item.indexOf(\"'\") !== -1 |\r\n     this_item.indexOf('\"') !== -1){\r\n    bootbox.alert(\"Please avoid apostraphe's or quote marks in the responses the participant can give. These cause problems with smooth running of surveys. This occurs when you wrote:<br><br>\" + this_item);\r\n  }\r\n\r\n  /*\r\n  this_item = this_item.replaceAll(\"'\",\"\")\r\n                       .replaceAll('\"','');\r\n  */\r\n\r\n  return(this_item);\r\n}\r\n\r\nfunction load_survey(survey){\r\n  // are we in preview?\r\n  /////////////////////\r\n  if(typeof(parent.master_json) !== \"undefined\" && parent.master_json.surveys.preview){     // Yes\r\n    survey_content = survey;                                                    // i.e. the content has been passed through directly\r\n    survey_obj.mods = parent.master_json.mods;                                //no need to be efficient in preview\r\n\r\n  } else {                                                                      // No\r\n    survey = survey.toLowerCase().replace(\".csv\",\"\") + \".csv\";\r\n\r\n    if(typeof(parent.parent.exp_json.surveys) !== \"undefined\" &&\r\n       typeof(parent.parent.exp_json.surveys[survey]) !== \"undefined\"){\r\n      survey_content = parent.parent.exp_json.surveys[survey];\r\n      survey_obj.mods = parent.parent.exp_json.mods;                     //take mods from exp_json\r\n\r\n    } else if(typeof(parent.parent.exp_json.surveys) !== \"undefined\" &&\r\n\t\t\t\t\t\t\ttypeof(parent.parent.exp_json.surveys[survey.replace(\".csv\",\"\")])){\r\n\t\t\tsurvey_content = parent.parent.exp_json.surveys[survey.replace(\".csv\",\"\")];\r\n      survey_obj.mods = parent.parent.exp_json.mods;                     //take mods from exp_json\r\n\t\t}\telse {\r\n      bootbox.alert(\"Survey \" + survey  + \" doesn't appear to exist\");\r\n    }\r\n  }\r\n  process_returned_questionnaire(survey_content);\r\n}\r\n\r\nfunction generate_feedback_string(feedback_array,this_index,feedback_color,row_no,this_row){\r\n  if(feedback_array){                 //i.e. if it's not null\r\n    if(feedback_array.length > 1){\r\n      return \"<div class='feedback_span_multiple \"+this_row[\"item_name\"].toLowerCase()+\"_feedback' style='color:\"+feedback_color[this_index]+\"'>\"+feedback_array[this_index]+\"</div>\";\r\n    } else {\r\n      return \"<div class='feedback_span_single \"+this_row[\"item_name\"].toLowerCase()+\"_feedback' style='color:\"+feedback_color[this_index]+\"'>\"+feedback_array[this_index]+\"</div>\";\r\n    }\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nfunction isJSON(str) {\r\n  try {\r\n    return JSON.parse(str);\r\n  } catch (e) {\r\n    return str;\r\n  }\r\n}\r\n\r\n\r\nfunction likert_update(this_element,this_response,this_value){\r\n  [row_no,item_name] = retrieve_row_no_item_name(this_element);\r\n  $(\".row_\"+row_no).removeClass(\"active\");\r\n  $(\".row_\"+row_no).removeClass(\"btn-primary\");\r\n  $(\".row_\"+row_no).addClass(\"btn-outline-primary\");\r\n  $(this_element).removeClass(\"btn-outline-primary\");\r\n  $(this_element).addClass(\"btn-primary\");\r\n  $(\"#survey_\"+item_name+\"_response\").val(this_response);\r\n  response_check(this_element);\r\n}\r\n\r\n\r\nfunction process_item_score(survey_obj,row_no,values_col,this_response,item,values_reverse){\r\n  item_values       = survey_obj.data[row_no][values_col].split(\"|\");\r\n  if(typeof(values_reverse) !== \"undefined\" && values_reverse == \"r\"){\r\n    item_values.reverse();\r\n  }\r\n  item_answers      = survey_obj.data[row_no][\"answers\"].split(\"|\");\r\n  var this_value    = item_values[item_answers.indexOf(this_response)];\r\n  $(\"#survey_\" + item + \"_score\").val(this_value);\r\n  if(typeof(this_value) !== \"undefined\"){\r\n    return parseFloat(this_value);\r\n  }\r\n}\r\n\r\nfunction process_returned_questionnaire(data){\r\n  survey_obj.data = data;\r\n  survey_obj.data = Papa.parse(Papa.unparse(survey_obj.data),{\r\n                      header:true,\r\n                      beforeFirstChunk: function(chunk) {\r\n                        var rows = chunk.split( /\\r\\n|\\r|\\n/ );\r\n                        var headings = rows[0].toLowerCase();\r\n                        rows[0] = headings;\r\n                        return rows.join(\"\\r\\n\");\r\n                      },\r\n                    }).data;\r\n\r\n  var col_headers = Object.keys(survey_obj.data[0]);\r\n  survey_obj.scales = {};\r\n\r\n  col_headers.forEach(function(header){\r\n    if(header.indexOf(\"score:\")==0){\r\n      var original_header = header;\r\n      header = header.replace(\"score: \",\"\");\r\n      header = header.replace(\"score:\",\"\");\r\n\r\n      survey_obj.scales[header] = {};\r\n      survey_obj.scales[header].questions = {};\r\n\r\n      //identify which questions\r\n      for(var i = 1; i< survey_obj.data.length; i++){\r\n        row = survey_obj.data[i];\r\n        if(row[original_header] !== \"\" && typeof(row[original_header]) !== \"undefined\"){\r\n          survey_obj.scales[header].questions[i] = row[original_header];\r\n        }\r\n      }\r\n    }\r\n  });\r\n  write_survey(survey_obj.data,\"this_survey_id\");\r\n  $(\"#please_wait_div\").hide();\r\n  $(\"#proceed_button\").show();\r\n\r\n  $('html, body').animate({\r\n    scrollTop: $(\"#survey_outline\").offset().top\r\n  }, 1000);\r\n}\r\n\r\nfunction process_survey_question(this_row,row_no){\r\n\r\n  if(this_row.values == \"\"){\r\n    this_row.values = this_row.answers;\r\n  }\r\n\r\n  if(typeof(this_row[\"text\"]) !== \"undefined\" &&\r\n\t\t typeof(this_row[\"type\"]) !== \"undefined\" &&\r\n\t\t this_row['text'].toLowerCase() == \"page_break\" |\r\n\t\t this_row['type'].toLowerCase() == \"page_break\"){\r\n        page_break_management.breaks_remaining++;\r\n        question_td = \"</tr></table><table id='table\" + page_break_management.breaks_remaining + \"' style='display:none' class='table_break'></tr>\";\r\n  } else {\r\n\r\n    if(typeof(this_row[\"values\"]) !== \"undefined\" & typeof(this_row[\"values\"]) !== \"function\"){ //to address microsoft edge issue.\r\n      value_array = this_row[\"values\"].split(\"|\");\r\n    } else {\r\n      value_array='';\r\n    }\r\n\r\n    if(this_row[\"item_name\"].indexOf(\" \") !== -1){\r\n      bootbox.alert(\"Please note that the 'item name' '\" + this_row['item_name'] + \"' is invalid because it has at least one space. Please use underscores instead of spaces. If you're not the creator of this task, please contact the person who created it.\");\r\n    }\r\n\r\n    // class for scoring\r\n    this_class = \"\";\r\n    for(var i=0;i<scoring_object.scales.length;i++){\r\n      if(this_row[scoring_object.scales[i].toLowerCase()]==\"1\"){\r\n        this_class += scoring_object.scales[i].toLowerCase().replace(\"score: \",\"\").replace(/ |-/,\"\")+\" \";\r\n      }\r\n      if(this_row[scoring_object.scales[i].toLowerCase()]==\"r1\"){\r\n        this_class += scoring_object.scales[i].toLowerCase().replace(\"score: \",\"\").replace(\" \",\"_\")+\"-r1 \";\r\n      }\r\n    }\r\n\r\n    [feedback_array,feedback_color] = retrieve_feedback(this_row);\r\n\r\n    response_html = '<input type=\"hidden\" class=\"response_element row_'+row_no+'\" id=\"survey_'+this_row[\"item_name\"].toLowerCase()+'_response\" name=\"survey_'+this_row[\"item_name\"].toLowerCase()+'_response\"  value=\"\">';\r\n\r\n\r\n    // Survey settings\r\n    ////////////////////\r\n\r\n    [row_ques_perc,row_resp_perc] = quest_resp_perc(this_row[\"question_width\"]);\r\n\r\n    if(typeof(settings.feedback_before_response) == \"undefined\"){\r\n        settings.feedback_before_response = true;\r\n    }\r\n\r\n    if(typeof(settings.lock_after_feedback) == \"undefined\"){\r\n        settings.lock_after_feedback = false;\r\n    }\r\n    var question_td='';\r\n\r\n    if(typeof(this_row[\"type\"]) == \"undefined\"){\r\n        return false;\r\n    }\r\n\r\n    // Item types\r\n    ///////////////\r\n\r\n    if(typeof(survey_obj.mods) !== \"undefined\" &&\r\n\t\t\t typeof(survey_obj.mods[this_row.type]) !== \"undefined\"){\r\n\r\n      var mod_html = survey_obj.mods[this_row.type].contents;\r\n\r\n      //for each row variable, insert it into the mod if possible?\r\n      Object.keys(this_row).forEach(function(attribute){\r\n        mod_html = mod_html.replaceAll(\"{{\"+attribute+\"}}\",this_row[attribute]);\r\n      });\r\n      question_td += mod_html;\r\n    } else {\r\n\r\n      switch(this_row[\"type\"].toLowerCase()){\r\n        case \"page_start\":\r\n          var tabs_html = $(\"#survey_tabs\").html();\r\n          if(settings.tab_hor_vert == \"horizontal\"){\r\n            span_div = \"span\";\r\n          } else if(settings.tab_hor_vert == \"vertical\"){\r\n            span_div = \"div\";\r\n          }\r\n          if(typeof(survey_obj.tabs) == \"undefined\"){\r\n            survey_obj.tabs = 0;\r\n          } else {\r\n            survey_obj.tabs++;\r\n          }\r\n          if(survey_obj.tabs == 0){ //i.e. is the first tab\r\n            active_button = \"btn-outline-primary active\";\r\n          } else {\r\n            active_button = \"btn-secondary disabled\";\r\n          }\r\n          if(settings.tab_hor_vert == \"vertical\"){\r\n            var vert_btn_block = \"btn-block\";\r\n          } else {\r\n            var vert_btn_block = \"\";\r\n          }\r\n\r\n          tabs_html +=  '<'+span_div+' class=\"btn-group-toggle\" data-toggle=\"buttons\">'+\r\n            '<label id=\"tab_' + survey_obj.tabs + '_button\" class=\"btn show_tab '+active_button+' '+vert_btn_block+'\">'+\r\n              '<input type=\"checkbox\" checked autocomplete=\"off\">'+ this_row['text'] +\r\n            '</label>'+\r\n          '</'+span_div+'>';\r\n\r\n          $(\"#survey_tabs\").html(tabs_html);\r\n\r\n          page_break_indexes = [];\r\n          survey_obj.data.forEach(function(this_row,this_index){\r\n            if(typeof(this_row.type) !== \"undefined\" && this_row.type.toLowerCase() == \"page_start\"){\r\n              page_break_indexes.push(this_index);\r\n            }\r\n          });\r\n\r\n          if(survey_obj.tabs > 0){\r\n            question_td += \"</td><td></td></tr></table></div><div class='survey_page' id='tab_\"+survey_obj.tabs+\"' style='display:none'><table id='table_\"+survey_obj.tabs+\"' class='table_break'><tr>\";\r\n          } else {\r\n            question_td += \"</td><td></td></tr></table><div class='survey_page' id='tab_\"+survey_obj.tabs+\"' ><table id='table_\"+survey_obj.tabs+\"' class='table_break'><tr>\";\r\n          }\r\n        break;\r\n\r\n        case \"checkbox\":\r\n        case \"checkbox_vertical\":\r\n          var options = this_row[\"answers\"].split(\"|\");\r\n          question_td +=  response_html;\r\n          for(var i=0; i<options.length;i++){\r\n            feedback_string = generate_feedback_string(feedback_array,i,feedback_color,row_no,this_row);\r\n            question_td +=  '<div class=\"custom-control custom-checkbox\">'+\r\n                '<input type=\"checkbox\" class=\"custom-control-input '+this_class+' custom-control custom-checkbox '+this_row[\"item_name\"]+'_item row_'+row_no+'\" id=\"'+this_row[\"item_name\"]+ i +'\"  onchange=\"response_check(this)\" name=\"survey_'+this_row[\"item_name\"].toLowerCase()+'\">'+\r\n                '<label class=\"custom-control-label\" for=\"'+this_row[\"item_name\"]+i+'\">'+options[i]+'</label>'+\r\n                feedback_string +\r\n            '</div>';\r\n          }\r\n          break;\r\n\r\n          case \"checkbox_horizontal\":\r\n            feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n            var options = this_row[\"answers\"].split(\"|\");\r\n            question_td += response_html;\r\n            question_td += '<table><tr>';\r\n            for(var i=0; i<options.length;i++){\r\n              question_td +=  '<td>'+\r\n                                '<div class=\"custom-control custom-checkbox\">'+\r\n                                  '<input type=\"checkbox\" class=\"custom-control-input '+this_class+' custom-control custom-checkbox '+this_row[\"item_name\"]+'_item row_'+row_no+'\" id=\"'+this_row[\"item_name\"]+ i +'\"  onchange=\"response_check(this)\" name=\"survey_'+this_row[\"item_name\"].toLowerCase()+'\">'+\r\n                                    '<label class=\"custom-control-label\" for=\"'+this_row[\"item_name\"]+i+'\">'+options[i]+'</label>'+\r\n                                '</div>'+\r\n                              '</td>';\r\n            }\r\n            question_td += '</tr></table>'+feedback_string;\r\n          break;\r\n\r\n          case \"checkbox_single\":\r\n            feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n            var this_option = this_row[\"answers\"];\r\n            question_td +=  response_html +\r\n                            '<div class=\"btn-group-toggle\" data-toggle=\"buttons\">'+\r\n                                '<label class=\"btn btn-outline-primary\">'+\r\n                                    '<input type=\"checkbox\" class=\"'+this_row[\"item_name\"]+'_item row_'+row_no+'\"  checked autocomplete=\"off\" id=\"'+this_row[\"item_name\"]+'\" onchange=\"response_check(this)\" name=\"survey_'+this_row[\"item_name\"].toLowerCase()+'\">'+ this_option +\r\n                                '</label>'+\r\n                            '</div>' + feedback_string;\r\n          break;\r\n\r\n          case \"date\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              question_td+=   response_html+\r\n                              \"<input onchange='response_check(this)' class='custom-control datepicker date \"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' type='text' name='survey_\"+this_row['item_name'].toLowerCase()+\"'>\"+\r\n                              feedback_string;\r\n          break;\r\n\r\n          case \"dropdown\":\r\n\t\t\t\t\tcase \"select\":\r\n              feedback_string = generate_feedback_string(feedback_array,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t feedback_color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t row_no,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t this_row);\r\n              var options = this_row[\"answers\"].split(\"|\");\r\n              question_td += response_html +\r\n\t\t\t\t\t\t\t\t'<select ' +\r\n\t\t\t\t\t\t\t\t\t'class=\"custom-select ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'text-primary ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis_row[\"item_name\"] +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'_item row_' + row_no +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'collector_button \"' +\r\n\t\t\t\t\t\t\t\t\t\t'onchange=\"response_check(this)\" ' +\r\n\t\t\t\t\t\t\t\t\t\t'name=\"survey_' + this_row[\"item_name\"].toLowerCase() + '\">' +\r\n\t\t\t\t\t\t\t\t\t\t'<option selected disabled hidden>-- no option selected --</option>';\r\n              for(var i=0; i<options.length;i++){\r\n\t\t\t\t\t\t\t\tquestion_td += \"<option>\" + options[i] + \"</option>\";\r\n              }\r\n              question_td += '</select>' + feedback_string;\r\n          break;\r\n\r\n          case \"email\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              question_td += response_html+\"<input class='form-control type='email' \"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' onchange='response_check(this)' type='text' name='survey_\"+this_row['item_name'].toLowerCase()+\"'>\";\r\n              question_td += feedback_string;\r\n          break;\r\n\r\n          case \"google_slide\":\r\n          case \"instruct\":\r\n              //question_td += </td>\"; // \"<span class='text-primary'>\" + this_row[\"text\"] + \"</span>\";\r\n          break;\r\n\r\n          // tidy up this code for nice looking buttons\r\n          case \"likert\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              var options  = this_row[\"answers\"].split(\"|\");\r\n\r\n\t\t\t\t\t\t\tif(typeof(this_row[\"values\"]) == \"undefined\"){\r\n                this_row[\"values\"] = this_row[\"answers\"];\r\n              }\r\n\r\n\t\t\t\t\t\t\tif(typeof(this_row[\"btn_width\"]) !== \"undefined\" && this_row[\"btn-width\"]  !== \"\"){\r\n\t\t\t\t\t\t\t\tvar btn_style = \"width:\" + this_row[\"btn_width\"];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar btn_style = \"\";\r\n\t\t\t\t\t\t\t}\r\n\r\n              if(typeof(this_row[\"side_width\"]) !== \"undefined\"){\r\n                var side_width = \"max-width:\" + this_row[\"side_width\"] + \";\" +\r\n                                 \"min-width:\" + this_row[\"side_width\"] + \";\";\r\n              } else {\r\n                var side_width = \"\";\r\n              }\r\n\r\n              var values   = this_row[\"values\"].split(\"|\");\r\n              question_td += \t\"<table class='likert_table'>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"<tr>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"<td style='\" + side_width + \"'>\";\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t* Add side_text if it exists\r\n\t\t\t\t\t\t\t*/\r\n\r\n\t\t\t\t\t\t\tif(typeof(this_row[\"side_text\"]) !== \"undefined\" &&\r\n\t\t\t\t\t\t\t\tthis_row[\"side_text\"] !== \"\"){\r\n\t\t\t\t\t\t\t\tside_text = this_row[\"side_text\"].split(\"|\");\r\n\t\t\t\t\t\t\t\tside_text = side_text.map(function(this_side){\r\n\t\t\t\t\t\t\t\t\treturn \"<span style='\" + side_width + \" padding:20px;' class='text-primary'><b>\" + this_side + \"</b></span></td><td>\";\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tside_text = [\"\",\"\"];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tquestion_td += side_text[0];\r\n\r\n\t\t\t\t\t\t\tquestion_td +=  response_html +\r\n                              '<div class=\"btn-group btn-group-toggle\" data-toggle=\"buttons\">'; //to help detect blank likert's\r\n\r\n\r\n\t\t\t\t\t\t\tfor(var i=0; i<options.length;i++){\r\n                var this_option = clean_item(options[i]);\r\n                question_td +=  '<button type=\"button\" '+\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'class=\"btn '+\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 'survey_btn ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 'btn-outline-primary ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t this_row[\"item_name\"] + '_item row_' + row_no +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t '\"autocomplete=\"off\"' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'id = \"likert_' + row_no + '_' + i + '\" ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'style = \"' + btn_style + '\" ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'onclick=\"likert_update(this,\\''+this_option+'\\',\\''+values[i]+'\\')\">'+\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis_option +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'</button>';\r\n\r\n              }\r\n\t\t\t\t\t\t\tquestion_td +=  \"</div></td><td  style='\" + side_width + \"'>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tside_text[1] +\r\n                              \"<input type='hidden' class='\"+this_class+\"' id='survey_\"+this_row[\"item_name\"].toLowerCase()+\"_score' name='survey_\"+this_row[\"item_name\"].toLowerCase()+\"_score'></td>\"+\r\n                          \"</td>\"+\r\n                      \"</tr>\"+\r\n                  \"</table>\"+feedback_string;\r\n          break;\r\n\r\n          case \"number\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              question_td += response_html +\"<input type='number'  onchange='response_check(this)' class='form-control \"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' name='survey_\"+this_row['item_name'].toLowerCase()+\"'>\" + feedback_string;\r\n          break;\r\n\r\n          case \"para\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              question_td += response_html+\"<textarea name='survey_\"+this_row['item_name'].toLowerCase()+\"' class='\"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' onchange='response_check(this)' style='width:100%;height:200px'></textarea>\";\r\n              question_td += feedback_string;\r\n          break;\r\n\r\n          case \"radio\":\r\n          case \"radio_vertical\":\r\n            var options = this_row[\"answers\"].split(\"|\");\r\n            var values   = this_row[\"values\"].split(\"|\");\r\n            question_td +=  response_html;\r\n            for(var i=0; i<options.length;i++){\r\n              feedback_string = generate_feedback_string(feedback_array,i,feedback_color,row_no,this_row);\r\n\r\n              question_td +=  '<div class=\"custom-control custom-radio\">'+\r\n                                '<input type=\"radio\" class=\"custom-control-input '+this_class+'  onclick=\"likert_update(this,\\''+options[i]+'\\',\\''+values[i]+'\\')\" custom-control custom-radio '+this_row[\"item_name\"]+'_item row_'+row_no+'\" id=\"'+this_row[\"item_name\"]+ i +'\"  onchange=\"response_check(this)\" value=\"' + options[i] + '\" name=\"survey_'+this_row[\"item_name\"].toLowerCase()+'\">'+\r\n                                '<label class=\"custom-control-label\" for=\"'+this_row[\"item_name\"]+i+'\">'+options[i]+'</label>'+\r\n                                  feedback_string +\r\n                              '</div>';\r\n\r\n\r\n            }\r\n            question_td +=  \"<input type='hidden' class='\"+this_class+\"' id='survey_\"+this_row[\"item_name\"].toLowerCase()+\"_score' name='survey_\"+this_row[\"item_name\"].toLowerCase()+\"_score'>\";\r\n          break;\r\n\r\n          case \"radio_horizontal\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              var options = this_row[\"answers\"].split(\"|\");\r\n              question_td +=  response_html;\r\n              for(var i=0; i<options.length;i++){\r\n                  question_td +=  '<div class=\"custom-control custom-radio custom-control-inline\">'+\r\n                                      '<input type=\"radio\" class=\"custom-control-input '+this_class+' custom-control custom-radio '+this_row[\"item_name\"]+'_item row_'+row_no+'\" id=\"'+this_row[\"item_name\"]+ i +'\"  onchange=\"response_check(this)\" name=\"survey_'+this_row[\"item_name\"].toLowerCase()+'\">'+\r\n                                      '<label class=\"custom-control-label\" for=\"'+this_row[\"item_name\"]+i+'\">'+options[i]+'</label>'+\r\n                                      '<div class=\"invalid-feedback\">Example invalid feedback text</div>'+\r\n                                  '</div>'\r\n              }\r\n              question_td += feedback_string;\r\n          break;\r\n\r\n          case \"report_score\":\r\n              question_td += \"<input disabled class='form-control score_\" + this_row[\"item_name\"] + \" \"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' type='text' name='survey_\"+this_row['item_name'].toLowerCase()+\"'>\";\r\n          break;\r\n\r\n          case \"text\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              question_td += response_html+\"<input class='form-control \"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' onchange='response_check(this)' type='text' name='survey_\"+this_row['item_name'].toLowerCase()+\"'>\";\r\n              question_td += feedback_string;\r\n          break;\r\n\r\n      }\r\n    }\r\n    if(feedback_array){\r\n        question_td += \"<button class='btn btn-outline-info feedback_btn \"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' data-toggle='tooltip' id='reveal_\"+this_row[\"item_name\"].toLowerCase()+\"_feedback'  onclick='reveal_answers(this)'>Show</button>\";\r\n    }\r\n  }\r\n//  question_td += '</td>';\r\n\r\n  if(typeof(this_row[\"type\"])== \"undefined\"){\r\n      return '';\r\n  } else {\r\n    if(this_row[\"type\"].toLowerCase() == \"instruct\"){\r\n      var this_row_html = \"<td colspan='2'>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis_row[\"text\"] +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"</td>\";\r\n\t\t} else if(this_row[\"type\"].toLowerCase() == \"likert\"){\r\n\r\n\t\t\tif(typeof(this_row[\"side_by_side\"]) !== \"undefined\" &&\r\n\t\t\t\t this_row[\"side_by_side\"].toLowerCase() == \"yes\"){\r\n\r\n\t\t\t\tvar this_row_html=\"<td class='text-primary' id='survey_\"+this_row[\"item_name\"].toLowerCase().replace(\" \",\"_\")+\"_question' style='width:\"+row_ques_perc+\"; text-align:right'>\"+this_row[\"text\"]+\"</td><td>\"+question_td+\"</label></td>\";\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar this_row_html = \"<tr>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"<td colspan='2'>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis_row[\"text\"] +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"</td>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"</tr>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"<tr>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"<td colspan='2' align='center'>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquestion_td +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"</td>\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"</tr>\";\r\n\r\n\t\t\t}\r\n\r\n\r\n    } else if(this_row[\"type\"].toLowerCase()==\"google_slide\") {\r\n      var this_row_html=\"<td colspan='2'>\"+this_row[\"text\"]+\"</label></td>\";\r\n    } else if(typeof(this_row[\"no_text\"]) !== \"undefined\" && this_row[\"no_text\"] == \"on\"){\r\n      var this_row_html=\"<td colspan='2'>\"+question_td+\"</td>\";\r\n    } else {\r\n      if(this_row['text'].toLowerCase() == \"page_start\" | this_row['type'].toLowerCase() == \"page_start\"){\r\n        this_row_html = question_td;\r\n      }else {\r\n        var this_row_html=\"<td class='text-primary' id='survey_\"+this_row[\"item_name\"].toLowerCase().replace(\" \",\"_\")+\"_question' style='width:\"+row_ques_perc+\"; text-align:right'>\"+this_row[\"text\"]+\"</td><td>\"+question_td+\"</label></td>\";\r\n      }\r\n    }\r\n    if(typeof(this_row[\"optional\"]) !== \"undefined\"){\r\n      if(this_row[\"optional\"].toLowerCase() == \"no\"){\r\n        proceed_object.name.push(this_row[\"item_name\"]);\r\n        proceed_object.type.push(this_row[\"type\"]);\r\n        proceed_object.break_no.push(page_break_management.breaks_remaining);\r\n      }\r\n    }\r\n    if(typeof(this_row[\"shuffle\"]) == \"undefined\" || this_row[\"shuffle\"].toLowerCase() == \"off\"){\r\n      this_shuffle='none';\r\n    } else {\r\n      this_shuffle=this_row[\"shuffle\"];\r\n    }\r\n    return [this_row_html,this_shuffle];\r\n  }\r\n}\r\n\r\nfunction quest_resp_perc(quest_resp_rat){\r\n\tif(typeof(quest_resp_rat) == \"undefined\"){\r\n    row_resp_perc = \"50%\";\r\n    row_ques_perc = \"50%\";\r\n  } else {\r\n    row_resp_perc = parseFloat(100-quest_resp_rat.replace(\"%\",\"\"))+\"%\";\r\n    row_ques_perc = parseFloat(quest_resp_rat.replace(\"%\",\"\"))+\"%\";\r\n  }\r\n  return [row_ques_perc,row_resp_perc];\r\n}\r\n\r\nfunction response_check(submitted_element){\r\n  console.dir(\"submitted_element\");\r\n  console.dir(submitted_element);\r\n  switch(submitted_element.type){\r\n    case \"checkbox\":\r\n      var checked_responses = $(\"[name='\"+submitted_element.name+\"']:checked\");\r\n      if(checked_responses.length){ //i.e. more than 0\r\n        var values = [];\r\n        for(var i = 0; i < checked_responses.length; i++){\r\n          values.push(checked_responses[i].value);\r\n        }\r\n        $(\"#\"+submitted_element.name+\"_response\").val(JSON.stringify(values));\r\n      } else {\r\n        $(\"#\"+submitted_element.name+\"_response\").val(\"\");\r\n      }\r\n      break;\r\n\r\n      case \"button\":\r\n        $(\"#\"+submitted_element.name+\"_response\").val(submitted_element.innerHTML);\r\n      break;\r\n\r\n      case \"number\":\r\n      case \"select-one\":\r\n      case \"text\":\r\n      case \"textarea\":\r\n        $(\"#\"+submitted_element.name+\"_response\").val(submitted_element.value);\r\n      break;\r\n\r\n\r\n      case \"radio\":\r\n        $(\"#\"+submitted_element.name+\"_response\").val(submitted_element.value);\r\n      break;\r\n    }\r\n    update_score();\r\n}\r\n\r\nfunction retrieve_feedback(this_row){\r\n  if(typeof(this_row[\"feedback\"]) !== \"undefined\" && this_row[\"feedback\"] !== \"\"){\r\n    feedback_array = this_row[\"feedback\"].split(\"|\");\r\n    if(typeof(this_row[\"feedback_color\"]) == \"undefined\"){\r\n      bootbox.alert(\"The color for the feedback options has not been set. If you created this questionnaire, please add a column 'feedback_color' to your survey and separate the colors by a pipe (|) character.\");\r\n    }\r\n    feedback_color = this_row[\"feedback_color\"].split(\"|\");\r\n  } else {\r\n    feedback_array = null;\r\n    feedback_color = '';\r\n  }\r\n  return [feedback_array,feedback_color];\r\n}\r\n\r\nfunction retrieve_row_no_item_name(this_element){\r\n  var these_classes = this_element.className.split(\" \");\r\n  var row_no;\r\n  var item_name;\r\n  these_classes.forEach(function(this_class){\r\n    if (this_class.indexOf('row_') > -1) {\r\n      row_no = this_class.replace(\"row_\",\"\");\r\n    }\r\n    if (this_class.indexOf('_item') > -1) {\r\n      item_name = this_class.replace(\"_item\",\"\").toLowerCase();\r\n    }\r\n  });\r\n  return [row_no,item_name];\r\n}\r\n\r\nfunction reveal_answers(this_element){\r\n  var this_response = $(\"#\"+this_element.id.replace(\"reveal_\",\"survey_\").replace(\"_feedback\",\"_response\")).val();\r\n  response_present = this_response == \"\" ? false : true;\r\n\r\n  if(settings.feedback_before_response == false && response_present == false){\r\n    bootbox.alert(\"Please respond before trying reveal the feedback.\")\r\n  } else {\r\n    if($(\"#\"+this_element.id).hasClass(\"btn-outline-info\")){\r\n      $(\".\"+this_element.id.replace(\"reveal_\",\"\")).show(500);\r\n      if(settings.lock_after_feedback){\r\n        var item_class = this_element.id.replace(\"_feedback\",\"_item\").replace(\"reveal_\",\"\");\r\n        $(\".\"+item_class).prop(\"disabled\",true);\r\n        document.getElementsByClassName(item_class).title = \"The person creating this content has set it so that your answers are locked in once you have chosen to see the feedback\";\r\n        $(\"#\"+this_element.id).addClass(\"btn-info\");\r\n        $(\"#\"+this_element.id).removeClass(\"btn-outline-info\");\r\n        $(\"#\"+this_element.id).html(\"Locked\");\r\n        document.getElementById(this_element.id).title = 'The person creating this content has set it so that your answers are locked in once you have chosen to see the feedback';\r\n        $(\"#\"+this_element.id).addClass(\"disabled\");\r\n      } else {\r\n        $(\"#\"+this_element.id).html(\"Hide\");\r\n        $(\"#\"+this_element.id).removeClass(\"btn-outline-info\");\r\n        $(\"#\"+this_element.id).addClass(\"btn-info\");\r\n      }\r\n    } else {\r\n      $(\"#\"+this_element.id).html(\"Show\");\r\n      $(\".\"+this_element.id.replace(\"reveal_\",\"\")).hide(500);\r\n      $(\"#\"+this_element.id).addClass(\"btn-outline-info\");\r\n      $(\"#\"+this_element.id).removeClass(\"btn-info\");\r\n    }\r\n  }\r\n}\r\n\r\nfunction shuffle(array) {                                   // http://stackoverflow.com/questions/962802#962890\r\n  var tmp, current, top = array.length;\r\n  if(top) while(--top) {\r\n    current = Math.floor(Math.random() * (top + 1));\r\n    tmp = array[current];\r\n    array[current] = array[top];\r\n    array[top] = tmp;\r\n  }\r\n  return array;\r\n}\r\n\r\nfunction update_score(){\r\n  var scales = Object.keys(survey_obj.scales);\r\n  scales.forEach(function(scale){\r\n    this_scale = survey_obj.scales[scale];\r\n    var questions = Object.keys(this_scale.questions);\r\n    var this_score = 0;\r\n    complete_score = true;\r\n\r\n    questions.forEach(function(row_no){\r\n      var item = survey_obj.data[row_no].item_name.toLowerCase();\r\n      var this_response = $(\"#survey_\"+item+\"_response\").val(); //response\r\n      var normal_reverse = this_scale.questions[row_no];\r\n\r\n      if(normal_reverse.indexOf(\"-\") == -1){\r\n        var multiplier = parseFloat(normal_reverse.replace(\"r\",\"\"));\r\n        if(normal_reverse.indexOf(\"r\") == 0){ //reverse the values\r\n          this_value = process_item_score(survey_obj,row_no,\"values\",this_response,item,\"r\");\r\n        } else {\r\n          this_value = process_item_score(survey_obj,row_no,\"values\",this_response,item);\r\n        }\r\n      } else {\r\n        values_reverse = normal_reverse.split(\"-\");\r\n        values_col     = values_reverse[0].toLowerCase();\r\n        normal_reverse = values_reverse[1];\r\n        var multiplier = parseFloat(normal_reverse.replace(\"r\",\"\"));\r\n\r\n        if(normal_reverse.indexOf(\"r\") == 0){ //reverse the values\r\n          this_value = process_item_score(survey_obj,row_no,values_col,this_response,item,\"r\");\r\n        } else {\r\n          this_value = process_item_score(survey_obj,row_no,values_col,this_response,item);\r\n        }\r\n      }\r\n      if(typeof(this_value) !== \"undefined\"){\r\n        this_score += multiplier * this_value;\r\n      } else {\r\n        complete_score = false;\r\n      }\r\n    });\r\n    if(complete_score){\r\n      $(\".score_\"+scale).addClass(\"bg-success\");\r\n      $(\".score_\"+scale).removeClass(\"bg-danger\");\r\n      $(\".score_\"+scale).addClass(\"text-light\");\r\n      document.getElementsByClassName(\"score_\"+scale).title = 'All relevant questions have been answered';\r\n    } else {\r\n      $(\".score_\"+scale).removeClass(\"text-success\");\r\n      $(\".score_\"+scale).addClass(\"bg-danger\");\r\n      $(\".score_\"+scale).addClass(\"text-light\");\r\n      document.getElementsByClassName(\"score_\"+scale).title = 'At least one relevant questions has NOT been answered';\r\n    }\r\n    $(\".score_\"+scale).val(this_score);\r\n  });\r\n}\r\n\r\nfunction write_survey(this_survey,this_id){\r\n  scoring_object.update_scales(this_survey);\r\n  this_survey_html = \"<table class='table_break' id='table0'>\";\r\n  this_survey_object={\r\n    content:[],\r\n    shuffle:[],\r\n    content_new_order:[],\r\n    shuffled_content:[],\r\n    shuffled_arrays:{},\r\n  }\r\n\r\n  this_survey_html += \"<tr>\";\r\n  for(i = 0; i < this_survey.length; i++){\r\n    this_row = this_survey[i];\r\n    row_html = process_survey_question(this_row,i);\r\n\t\tthis_survey_object.content.push(row_html[0]);\r\n    this_survey_object.shuffle.push(row_html[1]);\r\n\t}\r\n\r\n\tunique_shuffles = this_survey_object.shuffle.filter((v,i,a)=>a.indexOf(v)==i); //by Camilo Martin on https://stackoverflow.com/questions/1960473/unique-values-in-an-array\r\n\r\n\tfor(var i=0;i<unique_shuffles.length;i++){\r\n    if(typeof(unique_shuffles[i]) !== \"undefined\" &&\r\n      unique_shuffles[i] !== \"none\" &&\r\n      unique_shuffles[i] !== \"\"){\r\n        shuffled_content = this_survey_object.shuffle.map(function(element,index){\r\n    \t   if(typeof(element)!== \"undefined\" && element.toLowerCase() !== \"none\" && element.toLowerCase() == unique_shuffles[i]){\r\n  \t       return this_survey_object.content[index];\r\n    \t   }\r\n    \t}).filter(elm => typeof(elm) !== \"undefined\");\r\n    \tnew_order = shuffle(shuffled_content);\r\n    \tthis_survey_object.shuffled_arrays[unique_shuffles[i]]=new_order; // add new array with dynamic name\r\n    }\r\n\t}\r\n\r\n\t// loop through lists, taking one off from the shuffled list and replacing the row with one from the shuffled list\r\n\tfor(var i=0;i<this_survey_object.content.length;i++){\r\n    var this_index = Object.keys(this_survey_object.shuffled_arrays).indexOf(this_survey_object.shuffle[i]);\r\n    if(this_index !== -1){\r\n      //take first item off relevant list and delete item\r\n      var this_item = this_survey_object.shuffled_arrays[Object.keys(this_survey_object.shuffled_arrays)[this_index]].shift();\r\n      this_survey_object.content_new_order[i]=this_item;\r\n    } else {\r\n      this_survey_object.content_new_order[i]=this_survey_object.content[i];\r\n    }\r\n\t}\r\n\r\n\tquestions_in_order = this_survey_object.content_new_order.join(\"</tr><tr>\");\r\n\tquestions_in_order += \"</tr>\";\r\n\r\n\tthis_survey_html += questions_in_order;\r\n\tthis_survey_html += \"</table>\";\r\n\r\n\t$(\"#\" + this_id).html(this_survey_html);\r\n\r\n\t$(\"#\" + this_id).show(1000,function(){\r\n\t\t// Set all buttons to the max width\r\n\t\t/*\r\n\t\tvar maxWidth = 0;\r\n\t\t$('.btn').each(function(index, element) {\r\n\t\t\tvar curWidth = $(element).width();\r\n\t\t\tif (maxWidth < curWidth ) {\r\n\t\t\t\tmaxWidth = curWidth;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('.survey_btn').each(function(i) {\r\n\t\t\t$(this).delay(200).animate({\r\n\t\t\t\t\"width\" : maxWidth\r\n\t\t\t});\r\n\t\t});\r\n\t\t*/\r\n\t});\r\n\r\n\t//scroll to top\r\n\r\n\r\n\t$(\".show_tab\").on(\"click\",function(){\r\n    if(this.className.indexOf(\"disabled\") == -1){\r\n      $(\".show_tab\").removeClass(\"active\");\r\n      $(\".survey_page\").hide();\r\n      $(\"#\"+this.id.replace(\"_button\",\"\")).show();\r\n    } else {\r\n      bootbox.alert(\"You have not yet unlocked this tab - maybe try clicking on <b>Proceed</b>?\");\r\n    }\r\n\t});\r\n  $('[data-toggle=\"tooltip\"]').tooltip();\r\n  $(\".custom-checkbox\").prop(\"indeterminate\",true);\r\n}\r\n\r\n//////////////////\r\n// Load survey  //\r\n//////////////////\r\ncurrent_survey = \"{{survey}}\";\r\nif(typeof(Trial) !== \"undefined\"){  // This check is to help this code work when previewing trialtypes\r\n  Trial.set_timer(function(){       // This chunk is for when the survey is run within an actual trial\r\n    load_survey(current_survey);\r\n  },100);\r\n} else {                            // This chunk is for when the survey is being previewed in the \"survey editor\"\r\n  load_survey(current_survey);\r\n}\r\n\r\n\r\n</script>\r\n"
  },
  "python_procs": {
    "procedure_1.csv": "Item,Trial Type,Max Time,Text,Shuffle 1,\r\n0,instruct,user,\"You are about to be presented with a series of letters. If the letter presented matches the one 3 letters before, then press \"\"m\"\" for \"\"match\"\". If not, press \"\"n\"\" for \"\"not\"\". The first three trials will be \"\"not\"\", so just press \"\"n\"\".\",off,\r\n2 to 11,nback,user,This is the start of a new experiment.,off,\r\n,,,,,"
  },
  "python_conditions": "Name,Notes,Stimuli,Procedure,fullscreen,welcome,participant_id,end_message,start_message,buffer,\r\ncondition_1,You can put more detailed notes in this field,stimuli_1.csv,procedure_1.csv,off,,random,,,5,\r\n,,,,,,,,,,",
  "python_stims": {
    "stimuli_1.csv": "Cue,Answer,Match,\r\nO,n,no,\r\nR,n,no,\r\nM,n,no,\r\nO,m,yes,\r\nY,n,no,\r\nR,m,yes,\r\nC,n,no,\r\nY,m,yes,\r\nQ,n,no,\r\nC,m,yes,\r\n,,,"
  },
  "conditions": [
    {
      "name": "condition_1",
      "notes": "You can put more detailed notes in this field",
      "stimuli": "stimuli_1.csv",
      "procedure": "procedure_1.csv",
      "fullscreen": "off",
      "welcome": "",
      "participant_id": "on",
      "end_message": "",
      "start_message": "",
      "buffer": "5",
      "": ""
    }
  ],
  "data_scripts": {
    "free": [
      "https://ocollector.org/StoreData.php"
    ],
    "ocollector.org": "https://ocollector.org/StoreData7.php"
  },
  "location": "https://www.dropbox.com/s/kxobf2txelfayc4/nback.json?dl=0",
  "boosts": {},
  "mods": {},
  "procs_csv": {
    "procedure_1.csv": "Item,Trial Type,Max Time,Text,Shuffle 1,Shuffle 2,survey,\r\n0,instruct,,attempt 3,,off,,\r\n0,survey,,,,,information sheet.csv,\r\n0,survey,,,,,consent_form.csv,\r\n0,instruct,user,\"<span style='font-size:16'><b>Practice of the Letters Task<br></b></span></span></span>\n<br>\n<u><b>It is advised that you complete the study on a laptop, desktop or tablet device for best screen presentation</b><u></u>.<br></u>\n<br>\n Firstly, we are going to have a practice of a task that you will complete 'for real' later on. This task is called the <b>Letters Task</b>. <br>\n<br>\nThis task will require you to look at letters on the screen presented one at a time. <br>\nYou will need to choose whether the current letter matches a letter presented some letters back.<br>\n<br>\nYou are going to complete <u>3 practice rounds</u> of the Letters Task.<br><br>\n\n To prepare, please place your dominant hand on the keyboard with your index and middle fingers resting on the \"\"n\"\" and \"\"m\"\" keys.<br>\n<br>\nAre you ready for the instructions for Round 1 of your practice?\",,,,\r\n0,instruct,user,\"Practice Round 1:  You are about to be presented with a series of letters. If the letter presented matches the one 1 letter before, then press \"\"m\"\" for \"\"match\"\". If not, press \"\"n\"\" for \"\"no match\"\". The first three trials will be \"\"no match\"\", so just press \"\"n\"\".\",off,off,,\r\n2 to 26,nback,user,This is the start of practice Round 1.,off,off,,\r\n0,instruct,user,\"Practice Round 2: You are about to be presented with a series of letters. If the letter presented matches the one 2 letters before, then press \"\"m\"\" for \"\"match\"\". If not, press \"\"n\"\" for \"\"no match\"\". The first three trials will be \"\"no match\"\", so just press \"\"n\"\".\",off,off,,\r\n27 to 51,nback,user,This is the start of Practice Round 2.,off,off,,\r\n0,instruct,user,\"Practice Round 3: You are about to be presented with a series of letters. If the letter presented matches the one 3 letters before, then press \"\"m\"\" for \"\"match\"\". If not, press \"\"n\"\" for \"\"no match\"\". The first three trials will be \"\"no match\"\", so just press \"\"n\"\".\",off,off,,\r\n52 to 76,nback,user,This is the start of Practice Round 3.,off,off,,\r\n0,instruct,user,This is the end of the Letters Task practice.,off,off,,\r\n0,survey,,,,,demographics_example.csv,\r\n0,survey,,,,,panas.csv,\r\n0,survey,,,,,ffq.csv,\r\n0,survey,,,,,bond_lader_vas_mood.csv,\r\n0,instruct,user,\"Welcome to the Letters Task. This task will require you to look at letters on the screen presented one at a time. You will need to choose whether the current letter matches a letter presented some letters back. You are going to complete 3 rounds of the Letters Task. To prepare, please place your dominant hand on the keyboard with your index and middle fingers resting on the \"\"n\"\" and \"\"m\"\" keys. Are you ready for the instructions for Round 1?\",off,off,,\r\n0,instruct,user,\"Round 1:  You are about to be presented with a series of letters. If the letter presented matches the one 1 letter before, then press \"\"m\"\" for \"\"match\"\". If not, press \"\"n\"\" for \"\"no match\"\". The first three trials will be \"\"no match\"\", so just press \"\"n\"\".\",off,block1,,\r\n2 to 26,nback,user,This is the start of Round 1.,off,block1,,\r\n0,instruct,user,\"Round 2: You are about to be presented with a series of letters. If the letter presented matches the one 2 letters before, then press \"\"m\"\" for \"\"match\"\". If not, press \"\"n\"\" for \"\"no match\"\". The first three trials will be \"\"no match\"\", so just press \"\"n\"\".\",off,block2,,\r\n27 to 51,nback,user,This is the start of Round 2.,off,block2,,\r\n0,instruct,user,\"Round 3: You are about to be presented with a series of letters. If the letter presented matches the one 3 letters before, then press \"\"m\"\" for \"\"match\"\". If not, press \"\"n\"\" for \"\"no match\"\". The first three trials will be \"\"no match\"\", so just press \"\"n\"\".\",off,block3,,\r\n52 to 76,nback,user,This is the start of Round 3.,off,block3,,\r\n0,instruct,user,This is the end of the Letters Task.,off,off,,\r\n0,survey,,,,,phq8.csv,\r\n0,survey,,,,,debrief.csv,\r\n,,,,,,,"
  },
  "stims_csv": {
    "stimuli_1.csv": "Cue,Answer,Match,\r\nS,n,no,\r\nW,n,no,\r\nQ,n,no,\r\nQ,m,yes,\r\nF,n,no,\r\nF,m,yes,\r\nQ,n,no,\r\nK,n,no,\r\nK,m,yes,\r\nB,n,no,\r\nY,n,no,\r\nY,m,yes,\r\nZ,n,no,\r\nZ,m,yes,\r\nL,n,no,\r\nZ,n,no,\r\nS,n,no,\r\nS,m,yes,\r\nY,n,no,\r\nJ,n,no,\r\nJ,m,yes,\r\nT,n,no,\r\nH,n,no,\r\nP,n,no,\r\nZ,n,no,\r\nP,n,no,\r\nG,n,no,\r\nC,n,no,\r\nG,m,yes,\r\nB,n,no,\r\nJ,n,no,\r\nR,n,no,\r\nJ,m,yes,\r\nR,m,yes,\r\nN,n,no,\r\nF,n,no,\r\nJ,n,no,\r\nH,n,no,\r\nJ,m,yes,\r\nV,n,no,\r\nZ,n,no,\r\nV,m,yes,\r\nV,n,no,\r\nK,n,no,\r\nQ,n,no,\r\nK,m,yes,\r\nW,n,no,\r\nK,m,yes,\r\nP,n,no,\r\nS,n,no,\r\nL,n,no,\r\nC,n,no,\r\nS,n,no,\r\nQ,n,no,\r\nC,m,yes,\r\nM,n,no,\r\nV,n,no,\r\nT,n,no,\r\nM,m,yes,\r\nB,n,no,\r\nT,m,yes,\r\nV,n,no,\r\nM,n,no,\r\nV,n,no,\r\nB,n,no,\r\nM,m,yes,\r\nV,m,yes,\r\nX,n,no,\r\nZ,n,no,\r\nY,n,no,\r\nX,m,yes,\r\nH,n,no,\r\nY,m,yes,\r\nS,n,no,\r\nW,n,no,\r\n,,,"
  },
  "conditions_csv": "Name,Notes,Stimuli,Procedure,fullscreen,welcome,participant_id,end_message,start_message,buffer,\r\ncondition_1,You can put more detailed notes in this field,stimuli_1.csv,procedure_1.csv,off,,on,,,5,\r\n,,,,,,,,,,"
}