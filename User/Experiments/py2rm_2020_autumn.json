{
  "all_procs": {
    "procedure_1.csv": [
      [
        "item",
        "trial type",
        "max time",
        "text",
        "Shuffle 1",
        "survey",
        ""
      ],
      [
        "0",
        "create_feedback",
        "user",
        "",
        "off",
        "",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "information sheet will go here",
        "off",
        null,
        null
      ],
      [
        "0",
        "instruct",
        "user",
        "You will be given some arithmetic to do. Please complete in your own time",
        "off",
        "",
        ""
      ],
      [
        "0",
        "survey",
        "user",
        "",
        "off",
        "arithmetic_feelings.csv",
        ""
      ],
      [
        "2 to 11",
        "arithmetic",
        "user",
        "",
        "practice",
        "",
        ""
      ],
      [
        "0",
        "survey",
        "user",
        "",
        "off",
        "arithmetic_feelings.csv",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "Please take a break and start the next block when you're ready",
        "",
        "",
        ""
      ],
      [
        "12 to 21",
        "arithmetic_feedback",
        "user",
        "",
        "trials",
        "",
        ""
      ],
      [
        "0",
        "survey",
        "user",
        "",
        "off",
        "arithmetic_feelings.csv",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "Please take a break and start the next block when you're ready",
        "",
        "",
        ""
      ],
      [
        "22 to 31",
        "arithmetic_feedback",
        "user",
        "",
        "trials",
        "",
        ""
      ],
      [
        "0",
        "survey",
        "user",
        "",
        "off",
        "arithmetic_feelings.csv",
        ""
      ],
      [
        "0",
        "survey",
        "user",
        "",
        "off",
        "rotter_loc.csv",
        ""
      ],
      [
        "0",
        "survey",
        "user",
        "",
        "off",
        "bfi.csv",
        ""
      ],
      [
        "0",
        "survey",
        "user",
        "",
        "off",
        "py2rm_2020_single_items.csv",
        ""
      ],
      [
        "0",
        "survey",
        "user",
        "",
        "off",
        "demographics.csv",
        ""
      ],
      [
        "0",
        "instruct",
        "user",
        "debrief form will go here",
        "off",
        null,
        null
      ],
      [
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    ]
  },
  "cond_array": [
    [
      "name",
      "notes",
      "stimuli",
      "procedure",
      "fullscreen",
      "welcome",
      "participant_id",
      "end_message",
      "start_message",
      "buffer",
      "scripts",
      ""
    ],
    [
      "condition_1",
      "You can put more detailed notes in this field",
      "arithmetic_questions.csv",
      "procedure_1.csv",
      "off",
      "",
      "random",
      "",
      "",
      "5",
      "",
      ""
    ],
    [
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      "",
      ""
    ]
  ],
  "all_stims": {
    "arithmetic_questions.csv": [
      [
        "cue",
        "answer",
        "time_limit",
        "row_1_tens",
        "row_1_units",
        "row_2_tens",
        "row_2_units",
        "add_sub_mult",
        "answer_1",
        "answer_2",
        "answer_3",
        "answer_4",
        "answer_5",
        ""
      ],
      [
        "A",
        "Apple",
        "10000",
        "8",
        "8",
        "2",
        "5",
        "x",
        "40",
        "160",
        "400",
        "1600",
        "2200",
        ""
      ],
      [
        "B",
        "Banana",
        "10000",
        "3",
        "8",
        "5",
        "8",
        "x",
        "64",
        "400",
        "240",
        "1500",
        "2204",
        ""
      ],
      [
        "",
        "",
        "",
        "5",
        "8",
        "2",
        "8",
        "x",
        "64",
        "160",
        "400",
        "1000",
        "1624",
        ""
      ],
      [
        "",
        "",
        "",
        "3",
        "3",
        "6",
        "7",
        "x",
        "21",
        "180",
        "210",
        "1800",
        "2211",
        ""
      ],
      [
        "",
        "",
        "",
        "3",
        "1",
        "6",
        "3",
        "x",
        "3",
        "60",
        "90",
        "1800",
        "1953",
        ""
      ],
      [
        "",
        "",
        "",
        "8",
        "2",
        "2",
        "3",
        "x",
        "6",
        "40",
        "240",
        "1600",
        "1886",
        ""
      ],
      [
        "",
        "",
        "",
        "4",
        "9",
        "7",
        "2",
        "x",
        "18",
        "630",
        "80",
        "2800",
        "3528",
        ""
      ],
      [
        "",
        "",
        "",
        "7",
        "9",
        "5",
        "2",
        "x",
        "18",
        "450",
        "140",
        "3500",
        "4108",
        ""
      ],
      [
        "",
        "",
        "",
        "4",
        "8",
        "8",
        "5",
        "x",
        "40",
        "640",
        "200",
        "3200",
        "4080",
        ""
      ],
      [
        "",
        "",
        "",
        "8",
        "3",
        "5",
        "1",
        "x",
        "3",
        "150",
        "80",
        "4000",
        "4233",
        ""
      ],
      [
        "",
        "",
        "",
        "6",
        "9",
        "3",
        "1",
        "x",
        "9",
        "270",
        "60",
        "1800",
        "2139",
        ""
      ],
      [
        "",
        "",
        "",
        "9",
        "8",
        "6",
        "1",
        "x",
        "8",
        "480",
        "90",
        "5400",
        "5978",
        ""
      ],
      [
        "",
        "",
        "",
        "1",
        "2",
        "8",
        "4",
        "x",
        "8",
        "160",
        "40",
        "800",
        "1008",
        ""
      ],
      [
        "",
        "",
        "",
        "4",
        "9",
        "7",
        "4",
        "x",
        "36",
        "630",
        "160",
        "2800",
        "3626",
        ""
      ],
      [
        "",
        "",
        "",
        "7",
        "4",
        "8",
        "5",
        "x",
        "20",
        "320",
        "350",
        "5600",
        "6290",
        ""
      ],
      [
        "",
        "",
        "",
        "4",
        "7",
        "8",
        "6",
        "x",
        "42",
        "560",
        "240",
        "3200",
        "4042",
        ""
      ],
      [
        "",
        "",
        "",
        "7",
        "2",
        "5",
        "1",
        "x",
        "2",
        "100",
        "70",
        "3500",
        "3672",
        ""
      ],
      [
        "",
        "",
        "",
        "6",
        "9",
        "1",
        "7",
        "x",
        "63",
        "90",
        "420",
        "600",
        "1173",
        ""
      ],
      [
        "",
        "",
        "",
        "5",
        "7",
        "3",
        "2",
        "x",
        "14",
        "210",
        "100",
        "1500",
        "1824",
        ""
      ],
      [
        "",
        "",
        "",
        "3",
        "8",
        "6",
        "8",
        "x",
        "64",
        "480",
        "240",
        "1800",
        "2584",
        ""
      ],
      [
        "",
        "",
        "",
        "6",
        "3",
        "3",
        "3",
        "x",
        "9",
        "90",
        "180",
        "1800",
        "2079",
        ""
      ],
      [
        "",
        "",
        "",
        "5",
        "2",
        "2",
        "9",
        "x",
        "18",
        "40",
        "450",
        "1000",
        "1508",
        ""
      ],
      [
        "",
        "",
        "",
        "4",
        "8",
        "5",
        "5",
        "x",
        "40",
        "400",
        "200",
        "2000",
        "2640",
        ""
      ],
      [
        "",
        "",
        "",
        "1",
        "1",
        "5",
        "5",
        "x",
        "5",
        "50",
        "50",
        "500",
        "605",
        ""
      ],
      [
        "",
        "",
        "",
        "7",
        "3",
        "8",
        "3",
        "x",
        "9",
        "240",
        "210",
        "5600",
        "6059",
        ""
      ],
      [
        "",
        "",
        "",
        "3",
        "2",
        "1",
        "7",
        "x",
        "14",
        "20",
        "210",
        "300",
        "544",
        ""
      ],
      [
        "",
        "",
        "",
        "5",
        "2",
        "3",
        "6",
        "x",
        "12",
        "60",
        "300",
        "1500",
        "1872",
        ""
      ],
      [
        "",
        "",
        "",
        "6",
        "3",
        "6",
        "1",
        "x",
        "3",
        "180",
        "60",
        "3600",
        "3843",
        ""
      ],
      [
        "",
        "",
        "",
        "3",
        "8",
        "6",
        "9",
        "x",
        "72",
        "480",
        "270",
        "1800",
        "2622",
        ""
      ],
      [
        "",
        "",
        "",
        "5",
        "3",
        "7",
        "7",
        "x",
        "21",
        "210",
        "350",
        "3500",
        "4081",
        ""
      ],
      [
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        ""
      ]
    ],
    "feedback_type.csv": [
      [
        "cue",
        "answer",
        null
      ],
      [
        "A",
        "Apple",
        null
      ],
      [
        "B",
        "Banana",
        null
      ],
      [
        null,
        null,
        null
      ]
    ]
  },
  "public_key": "Gag8f89c30cdKRaw8rhOKGiAdSY4iEVqzyl0kc91LGk=",
  "parsed_procs": {
    "procedure_1.csv": [
      {
        "item": "0",
        "trial type": "create_feedback",
        "max time": "user",
        "text": "",
        "survey": "",
        "": "",
        "shuffle 1": "off"
      },
      {
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "information sheet will go here",
        "survey": "",
        "": "",
        "shuffle 1": "off"
      },
      {
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "You will be given some arithmetic to do. Please complete in your own time",
        "survey": "",
        "": "",
        "shuffle 1": "off"
      },
      {
        "item": "0",
        "trial type": "survey",
        "max time": "user",
        "text": "",
        "survey": "arithmetic_feelings.csv",
        "": "",
        "shuffle 1": "off"
      },
      {
        "item": "2 to 11",
        "trial type": "arithmetic",
        "max time": "user",
        "text": "",
        "survey": "",
        "": "",
        "shuffle 1": "practice"
      },
      {
        "item": "0",
        "trial type": "survey",
        "max time": "user",
        "text": "",
        "survey": "arithmetic_feelings.csv",
        "": "",
        "shuffle 1": "off"
      },
      {
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "Please take a break and start the next block when you're ready",
        "survey": "",
        "": "",
        "shuffle 1": ""
      },
      {
        "item": "12 to 21",
        "trial type": "arithmetic_feedback",
        "max time": "user",
        "text": "",
        "survey": "",
        "": "",
        "shuffle 1": "trials"
      },
      {
        "item": "0",
        "trial type": "survey",
        "max time": "user",
        "text": "",
        "survey": "arithmetic_feelings.csv",
        "": "",
        "shuffle 1": "off"
      },
      {
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "Please take a break and start the next block when you're ready",
        "survey": "",
        "": "",
        "shuffle 1": ""
      },
      {
        "item": "22 to 31",
        "trial type": "arithmetic_feedback",
        "max time": "user",
        "text": "",
        "survey": "",
        "": "",
        "shuffle 1": "trials"
      },
      {
        "item": "0",
        "trial type": "survey",
        "max time": "user",
        "text": "",
        "survey": "arithmetic_feelings.csv",
        "": "",
        "shuffle 1": "off"
      },
      {
        "item": "0",
        "trial type": "survey",
        "max time": "user",
        "text": "",
        "survey": "rotter_loc.csv",
        "": "",
        "shuffle 1": "off"
      },
      {
        "item": "0",
        "trial type": "survey",
        "max time": "user",
        "text": "",
        "survey": "bfi.csv",
        "": "",
        "shuffle 1": "off"
      },
      {
        "item": "0",
        "trial type": "survey",
        "max time": "user",
        "text": "",
        "survey": "py2rm_2020_single_items.csv",
        "": "",
        "shuffle 1": "off"
      },
      {
        "item": "0",
        "trial type": "survey",
        "max time": "user",
        "text": "",
        "survey": "demographics.csv",
        "": "",
        "shuffle 1": "off"
      },
      {
        "item": "0",
        "trial type": "instruct",
        "max time": "user",
        "text": "debrief form will go here",
        "survey": "",
        "": "",
        "shuffle 1": "off"
      }
    ]
  },
  "surveys": {
    "arithmetic_feelings.csv": [
      [
        "item_name",
        "text",
        "Type",
        "Answers",
        "Values",
        "Optional",
        "btn_width",
        "side_text",
        ""
      ],
      [
        "Instructions1",
        "Answer each question according to the way you personally feel, using the following scale:<br>\n1=Not at All<br>\n4=Moderately<br>\n7=Extremely",
        "Instruct",
        "",
        "",
        "",
        "",
        "",
        ""
      ],
      [
        "arith_confidence",
        "How confident are you in your ability to do arithmetic?",
        "likert",
        "1|2|3|4|5|6|7|8|9|10|11",
        "1|2|3|4|5|6|7|8|9|10|11",
        "No",
        "50px",
        "Not at All|Extremely",
        ""
      ],
      [
        "arith_enjoyment",
        "How much do you enjoy arithmetic?",
        "likert",
        "1|2|3|4|5|6|7|8|9|10|11",
        "1|2|3|4|5|6|7|8|9|10|11",
        "No",
        "50px",
        "Not at All|Extremely",
        ""
      ],
      [
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        ""
      ]
    ],
    "py2rm_2020_single_items.csv": [
      [
        "item_name",
        "text",
        "Type",
        "Answers",
        "Values",
        "Optional",
        "side_text",
        ""
      ],
      [
        "ac_self_confidence",
        "I have high confidence in my academic ability",
        "likert",
        "1|2|3|4|5|6|7|8|9|10|11",
        "1|2|3|4|5|6|7|8|9|10|11",
        "No",
        "Not very true of me|Very true of me",
        ""
      ],
      [
        "self_esteem_single",
        "I have high self-esteem",
        "likert",
        "1|2|3|4|5|6|7|8|9|10|11",
        "1|2|3|4|5|6|7|8|9|10|11",
        "No",
        "Not very true of me|Very true of me",
        ""
      ],
      [
        "work_ethic",
        "How dedicated are you to your work?",
        "likert",
        "1|2|3|4|5|6|7|8|9|10|11",
        "1|2|3|4|5|6|7|8|9|10|11",
        "No",
        "Not at all dedicated|Extremely dedicated",
        ""
      ],
      [
        "self_oriented_perfectionism",
        "I must work to my full potential at all times",
        "likert",
        "1|2|3|4|5|6|7|8|9|10|11",
        "1|2|3|4|5|6|7|8|9|10|11",
        "No",
        "Not at all true of me|Extremely true of me",
        ""
      ],
      [
        "socioeconomic_bg",
        "Please estimate what the income was for your household while growing up (in thousands, e.g. £15000 would be \"15\"). This question is optional",
        "number",
        "",
        "",
        "yes",
        "",
        null
      ],
      [
        "supportive_household",
        "How supportive was your household of you when you were growing up?",
        "likert",
        "1|2|3|4|5|6|7|8|9|10|11",
        "1|2|3|4|5|6|7|8|9|10|11",
        "No",
        "Not at all true of me|Extremely true of me",
        null
      ],
      [
        "emotional_sensitivity",
        "How much are your emotions influenced by other people?",
        "likert",
        "1|2|3|4|5|6|7|8|9|10|11",
        "1|2|3|4|5|6|7|8|9|10|11",
        "No",
        "Not at all influenced |Extremely influenced",
        null
      ],
      [
        "resilience_item",
        "How much do you agree with the statement: \"Making mistakes really hurts my confidence\"?",
        "likert",
        "1|2|3|4|5|6|7|8|9|10|11",
        "1|2|3|4|5|6|7|8|9|10|11",
        "No",
        "Not at all true of me|Extremely true of me",
        null
      ],
      [
        "optmism_pessimism",
        "How optimistic/pessimistic are you?",
        "likert",
        "1|2|3|4|5|6|7|8|9|10|11",
        "1|2|3|4|5|6|7|8|9|10|11",
        "No",
        "Extremely Pessimistic|Extremely Optimistic",
        null
      ],
      [
        "narcissism_item",
        "To what extent do you agree with this statement: I am a narcissist. (Note: The word ‘narcissist’ means egotistical, self-focused, and vain.)” (1 == not true of me, 11 == very true of me)",
        "likert",
        "1|2|3|4|5|6|7|8|9|10|11",
        "1|2|3|4|5|6|7|8|9|10|11",
        "No",
        "Not at all true of me|Extremely true of me",
        null
      ],
      [
        "mood_today",
        "How happy or sad are you feeling today?",
        "likert",
        "1|2|3|4|5|6|7|8|9|10|11",
        "1|2|3|4|5|6|7|8|9|10|11",
        "No",
        "Extremely Sad|Extremely Happy",
        null
      ],
      [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    ],
    "rotter_loc.csv": [
      [
        "item_name",
        "text",
        "Type",
        "Answers",
        "Values",
        "Score: internal_loc_control",
        "Optional",
        "question_width",
        null
      ],
      [
        "Instructions1",
        "<span style='color:#006699'><span style='font-size:20px'>For each question select the statement that you agree with the most</span></span>",
        "instruct",
        "",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "rot_loc1",
        "",
        "radio",
        "Children get into trouble because their parents punish them too much.|The trouble with most children nowadays is that their parents are too easy with them.",
        "0|1",
        "",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc2",
        "",
        "radio",
        "Many of the unhappy things in people's lives are partly due to bad luck.|People's misfortunes result from the mistakes they make. ",
        "0|1",
        "1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc3",
        "",
        "radio",
        "One of the major reasons why we have wars is because people don't take enough interest in\npolitics. |There will always be wars, no matter how hard people try to prevent them. ",
        "0|1",
        "r1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc4",
        "",
        "radio",
        "In the long run people get the respect they deserve in this world|Unfortunately, an individual's worth often passes unrecognized no matter how hard he tries ",
        "0|1",
        "r1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc5",
        "",
        "radio",
        "The idea that teachers are unfair to students is nonsense.|Most students don't realize the extent to which their grades are influenced by accidental\nhappenings. ",
        "0|1",
        "r1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc6",
        "",
        "radio",
        "Without the right breaks one cannot be an effective leader.| Capable people who fail to become leaders hive not taken advantage of their opportunities.",
        "0|1",
        "1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc7",
        "",
        "radio",
        "No matter how hard you try some people just don't like you.| People who can't get others to like them don't understand how to get along with others.",
        "0|1",
        "1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc8",
        "",
        "radio",
        "Heredity plays the major role in determining one's personality|It is one's experiences in life which determine what they're like. ",
        "0|1",
        "",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc9",
        "",
        "radio",
        "I have often found that what is going to happen will happen|Trusting to fate has never turned out as well for me as making a decision to take a definite\ncourse of action.",
        "0|1",
        "1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc10",
        "",
        "radio",
        "In the case of the well prepared student there is rarely if ever such a thing as an unfair test.|Many times exam questions tend to be so unrelated to course work that studying in really\nuseless. ",
        "0|1",
        "r1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc11",
        "",
        "radio",
        "Becoming a success is a matter of hard work, luck has little or nothing to do with it. |Getting a good job depends mainly on being in the right place at the right time. ",
        "0|1",
        "r1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc12",
        "",
        "radio",
        "The average citizen can have an influence in government decisions.|This world is run by the few people in power, and there is not much the little guy can do\nabout it.",
        "0|1",
        "r1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc13",
        "",
        "radio",
        "When I make plans, I am almost certain that I can make them work.|It is not always wise to plan too far ahead because many things turn out to- be a matter of\ngood or bad fortune anyhow. ",
        "0|1",
        "r1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc14",
        "",
        "radio",
        "There are certain people who are just no good.|There is some good in everybody. ",
        "0|1",
        "",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc15",
        "",
        "radio",
        " In my case getting what I want has little or nothing to do with luck.|Many times we might just as well decide what to do by flipping a coin. ",
        "0|1",
        "r1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc16",
        "",
        "radio",
        "Who gets to be the boss often depends on who was lucky enough to be in the right place first.| Getting people to do the right thing depends upon ability. Luck has little or nothing to do\nwith it. ",
        "0|1",
        "1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc17",
        "",
        "radio",
        "As far as world affairs are concerned, most of us are the victims of forces we can neither\nunderstand, nor control.|By taking an active part in political and social affairs the people can control world events.",
        "0|1",
        "1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc18",
        "",
        "radio",
        "Most people don't realize the extent to which their lives are controlled by accidental\nhappenings.|There really is no such thing as \"luck.\" ",
        "0|1",
        "1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc19",
        "",
        "radio",
        "One should always be willing to admit mistakes.|It is usually best to cover up one's mistakes.",
        "0|1",
        "",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc20",
        "",
        "radio",
        "It is hard to know whether or not a person really likes you.|How many friends you have depends upon how nice a person you are.",
        "0|1",
        "1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc21",
        "",
        "radio",
        "In the long run the bad things that happen to us are balanced by the good ones.|Most misfortunes are the result of lack of ability, ignorance, laziness, or all three.",
        "0|1",
        "1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc22",
        "",
        "radio",
        "With enough effort we can wipe out political corruption.|It is difficult for people to have much control over the things politicians do in office.",
        "0|1",
        "r1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc23",
        "",
        "radio",
        "Sometimes I can't understand how teachers arrive at the grades they give.|There is a direct connection between how hard 1 study and the grades I get.",
        "0|1",
        "1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc24",
        "",
        "radio",
        "A good leader expects people to decide for themselves what they should do.|A good leader makes it clear to everybody what their jobs are.",
        "0|1",
        "",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc25",
        "",
        "radio",
        "Many times I feel that I have little influence over the things that happen to me.|It is impossible for me to believe that chance or luck plays an important role in my life.",
        "0|1",
        "1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc26",
        "",
        "radio",
        "People are lonely because they don't try to be friendly.|There's not much use in trying too hard to please people, if they like you, they like you.",
        "0|1",
        "r1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc27",
        "",
        "radio",
        "There is too much emphasis on athletics in high school.|Team sports are an excellent way to build character.",
        "0|1",
        "",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc28",
        "",
        "radio",
        "What happens to me is my own doing.|Sometimes I feel that I don't have enough control over the direction my life is taking.",
        "0|1",
        "r1",
        "No",
        "0%",
        null
      ],
      [
        "rot_loc29",
        "",
        "radio",
        "Most of the time I can't understand why politicians behave the way they do.|In the long run the people are responsible for bad government on a national as well as on a\nlocal level.",
        "0|1",
        "1",
        "No",
        "0%",
        null
      ],
      [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    ],
    "bfi.csv": [
      [
        "item_name",
        "text",
        "Type",
        "Answers",
        "Values",
        "Score: bfi_extraversion",
        "Score: bfi_agreeableness",
        "Score: bfi_conscientiousness",
        "Score: bfi_neuroticism",
        "Score: bfi_openess",
        "Optional",
        "btn_width",
        null
      ],
      [
        "Instructions1",
        "Here are a number of characteristics that may or may not apply to you. For example, do you agree\nthat you are someone who likes to spend time with others? Please indicate the extent to which you agree or disagree with that statement. <br><br>I see myself as someone who...",
        "instruct",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        null
      ],
      [
        "bfi_1",
        "Is talkative",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "1",
        "",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_2",
        "Tends to find fault with others",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "r1",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_3",
        "Does a thorough job",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "1",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_4",
        "Is depressed, blue",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "1",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_5",
        "Is original, comes up with new ideas",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "",
        "1",
        "No",
        "100px",
        null
      ],
      [
        "bfi_6",
        "Is reserved",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "r1",
        "",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_7",
        "Is helpful and unselfish with others",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "1",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_8",
        "Can be somewhat careless",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "r1",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_9",
        "Is relaxed, handles stress well",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "r1",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_10",
        "Is curious about many different things",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "",
        "1",
        "No",
        "100px",
        null
      ],
      [
        "bfi_11",
        "Is full of energy",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "1",
        "",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_12",
        "Starts quarrels with others",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "r1",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_13",
        "Is a reliable worker",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "1",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_14",
        "Can be tense",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "1",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_15",
        "Is ingenious, a deep thinker",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "",
        "1",
        "No",
        "100px",
        null
      ],
      [
        "bfi_16",
        "Generates a lot of enthusiasm",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "1",
        "",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_17",
        "Has a forgiving nature",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "1",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_18",
        "Tends to be disorganized",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "r1",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_19",
        "Worries a lot",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "1",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_20",
        "Has an active imagination",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "",
        "1",
        "No",
        "100px",
        null
      ],
      [
        "bfi_21",
        "Tends to be quiet",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "r1",
        "",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_22",
        "Is generally trusting",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "1",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_23",
        "Tends to be lazy",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "r1",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_24",
        "Is emotionally stable, not easily upset",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "r1",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_25",
        "Is inventive",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "",
        "1",
        "No",
        "100px",
        null
      ],
      [
        "bfi_26",
        "Has an assertive personality",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "1",
        "",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_27",
        "Can be cold and aloof",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "r1",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_28",
        "Perseveres until the task is finished",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "1",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_29",
        "Can be moody",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "1",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_30",
        "Values artistic, aesthetic experiences",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "",
        "1",
        "No",
        "100px",
        null
      ],
      [
        "bfi_31",
        "Is sometimes shy, inhibited",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "r1",
        "",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_32",
        "Is considerate and kind to almost everyone",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "1",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_33",
        "Does things efficiently",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "1",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_34",
        "Remains calm in tense situations",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "r1",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_35",
        "Prefers work that is routine",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "",
        "r1",
        "No",
        "100px",
        null
      ],
      [
        "bfi_36",
        "Is outgoing, sociable",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "1",
        "",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_37",
        "Is sometimes rude to others",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "r1",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_38",
        "Makes plans and follows through with them",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "1",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_39",
        "Gets nervous easily",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "1",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_40",
        "Likes to reflect, play with ideas",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "",
        "1",
        "No",
        "100px",
        null
      ],
      [
        "bfi_41",
        "Has few artistic interests",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "",
        "r1",
        "No",
        "100px",
        null
      ],
      [
        "bfi_42",
        "Likes to cooperate with others",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "1",
        "",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_43",
        "Is easily distracted",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "r1",
        "",
        "",
        "No",
        "100px",
        null
      ],
      [
        "bfi_44",
        "Is sophisticated in art, music, or literature",
        "likert",
        "Disagree Strongly|Disagree a little|Neither agree nor disagree|Agree a little|Agree strongly",
        "1|2|3|4|5",
        "",
        "",
        "",
        "",
        "1",
        "No",
        "100px",
        null
      ],
      [
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null,
        null
      ]
    ],
    "demographics.csv": [
      [
        "item_name",
        "text",
        "Type",
        "Answers",
        "Optional",
        "Values",
        "side_by_side",
        "btn_width",
        null
      ],
      [
        "Gender",
        "Gender",
        "likert",
        "Male|Female|Other",
        "No",
        "",
        "yes",
        "100px",
        null
      ],
      [
        "Age",
        "Age",
        "Number",
        "",
        "No",
        "",
        "",
        "",
        null
      ],
      [
        "Education",
        "Education (which level are you currently in, or is the highest you've completed)",
        "Dropdown",
        "Some high school| High school graduate| Some college, no degree| Associate's degree| Bachelor's degree|Graduate degree (Master's, Doctorate, etc.)",
        "No",
        "",
        "",
        "",
        null
      ],
      [
        "English_Fluency",
        "Do you speak English fluently?",
        "likert",
        "Yes|No",
        "No",
        "",
        "yes",
        "200px",
        null
      ],
      [
        "English_Age",
        "At what age did you start learning English? (write \"0\" if from birth)",
        "Number",
        "",
        "No",
        "",
        "",
        "",
        null
      ],
      [
        "Country",
        "What is your country of residence?",
        "Text",
        "",
        "No",
        "",
        "",
        "",
        null
      ],
      [
        "Handedness",
        "What is your preferred hand?",
        "Likert",
        "Left|Right|Both",
        "No",
        "",
        "yes",
        "100px",
        null
      ],
      [
        "ethnicity",
        "If you would like to please state your ethnicity",
        "Text",
        "",
        "Yes",
        "",
        "",
        "",
        null
      ],
      [
        "",
        null
      ]
    ]
  },
  "trialtypes": {
    "instruct": "<!--\n/*  Collector (Garcia, Kornell, Kerr, Blake & Haffey)\n    A program for running experiments on the web\n    Copyright 2012-2016 Mikey Garcia & Nate Kornell\n\n\n    This program is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License version 3 as published by\n    the Free Software Foundation.\n\n    This program is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>\n \t\t\n\t\tKitten release (2019) author: Dr. Anthony Haffey (team@someopen.solutions)\t\t\n*/\n-->\n<style>\n#instruct_text{\n  margin:auto;\n  width:500px;\n  padding:50px;\n  max-height:600px;\n  text-align: center;  \n}\n#proceed_button{\n  position:absolute;\n  right: 20px;\n}\n#trial_contents{\n  position: absolute;\n  top:0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  margin:auto;\n  width:600;\n  height:600;\n}\n</style>\n<div id=\"trial_contents\">\n  <div id=\"instruct_text\">{{text}}</div>\n  <div>\n    <button class=\"btn btn-primary\" id=\"proceed_button\" onclick=\"Trial.submit()\">Proceed</button>\n  </div>\n</div>",
    "arithmetic": "<style>\r\n.trial_no{\r\n  width:150px;\r\n  height:50px;\r\n}\r\n#everything{\r\n  position: absolute;\r\n  top:0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin:auto;\r\n  width:600;\r\n  height:600;\r\n}\r\n#proceed_btn{\r\n  display:none;\r\n}\r\ntd {\r\n  padding:10px;\r\n  margin:5px;\r\n}\r\ninput{\r\n  float: right;\r\n  clear: both;\r\n  text-align: right;\r\n  letter-spacing: 1em;\r\n}\r\n.form-control {\r\n  display: inline-block;\r\n}\r\n</style>\r\n\r\n<div id=\"everything\">\r\n  <h2 class=\"text-primary\">{{row_1_tens}}{{row_1_units}} {{add_sub_mult}} {{row_2_tens}}{{row_2_units}}</h2>\r\n\r\n  <table>\r\n    <tr>\r\n      <td>\r\n        <h5>{{row_1_tens}}<u>{{row_1_units}}</u> {{add_sub_mult}} {{row_2_tens}}<u>{{row_2_units}}</u>:</h5>\r\n      </td>\r\n      <td>\r\n        <h5>{{row_1_units}} {{add_sub_mult}} {{row_2_units}}</h5>\r\n      </td>\r\n      <td>=</td>\r\n      <td>\r\n        <input type=\"number\" id=\"row_1_answer\" class=\"trial_no form-control pull-right\"/>\r\n      </td>\r\n      <td>\r\n        <h3 id=\"feedback_1\"></h3>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td><h5>{{row_1_tens}}<u>{{row_1_units}}</u> {{add_sub_mult}} <u>{{row_2_tens}}</u>{{row_2_units}}: </h5></td>\r\n      <td><h5>{{row_1_units}} {{add_sub_mult}} {{row_2_tens}}0</h5></td>\r\n      <td>=</td>\r\n      <td>\r\n        <input type=\"number\" id=\"row_2_answer\" class=\"trial_no\"/>\r\n      </td>\r\n      <td>\r\n        <h3 id=\"feedback_2\"></h3>\r\n      </td>\r\n    </tr>\r\n    \r\n    <tr>\r\n      <td><h5><u>{{row_1_tens}}</u>{{row_1_units}} {{add_sub_mult}} {{row_2_tens}}<u>{{row_2_units}}</u>: </h5></td>\r\n      <td><h5>{{row_1_tens}}0 {{add_sub_mult}} {{row_2_units}}</h5></td>\r\n      <td>=</td>\r\n      <td>\r\n        <input type=\"number\" id=\"row_3_answer\" class=\"trial_no\"/>\r\n      </td>\r\n      <td>\r\n        <h3 id=\"feedback_3\"></h3>\r\n      </td>\r\n    </tr>\r\n    \r\n    <tr>\r\n      <td><h5><u>{{row_1_tens}}</u>{{row_1_units}} {{add_sub_mult}} <u>{{row_2_tens}}</u>{{row_2_units}}: </h5></td>\r\n      <td><h5>{{row_1_tens}}0 {{add_sub_mult}} {{row_2_tens}}0 </h5></td>\r\n      <td>=</td>\r\n      <td>\r\n        <input type=\"number\" id=\"row_4_answer\" class=\"trial_no\"/>\r\n      </td>\r\n      <td>\r\n        <h3 id=\"feedback_4\"></h3>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td colspan = \"3\"></td>\r\n      <td><hr></rd>\r\n    </tr>\r\n    <tr>\r\n      <td colspan = \"3\"></td>\r\n      <td>\r\n        <input type=\"number\" id=\"row_5_answer\" class=\"trial_no\"/>\r\n      </td>\r\n      <td>\r\n        <h3 id=\"feedback_5\"></h3>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td colspan = \"3\"></td>\r\n    </tr>\r\n    <tr>\r\n      <td colspan = \"3\"></td>\r\n      <td><hr></rd>\r\n    </tr>\r\n  </table>\r\n  <button class=\"btn btn-large btn-primary\" id=\"check_answers_btn\">Check Answers</button>\r\n  <button class=\"btn btn-large btn-primary\" onclick=\"Trial.submit()\" id=\"proceed_btn\">Proceed</button>\r\n</div>\r\n\r\n<input type=\"hidden\" id=\"question_1_attempts\" name=\"question_1_attempts\"/>\r\n<input type=\"hidden\" id=\"question_2_attempts\" name=\"question_2_attempts\"/>\r\n<input type=\"hidden\" id=\"question_3_attempts\" name=\"question_3_attempts\"/>\r\n<input type=\"hidden\" id=\"question_4_attempts\" name=\"question_4_attempts\"/>\r\n<input type=\"hidden\" id=\"question_5_attempts\" name=\"question_5_attempts\"/>\r\n\r\n<script>\r\n/*\r\n* Work out what is going on with your blocks etc.\r\n*/\r\n\r\nvar answer_array = [\r\n  null,\r\n  \"{{answer_1}}\",\r\n  \"{{answer_2}}\",\r\n  \"{{answer_3}}\",\r\n  \"{{answer_4}}\",\r\n  \"{{answer_5}}\"\r\n];\r\n\r\n\r\n$(\"#check_answers_btn\").on(\"click\",function(){\r\n  for(var i=1; i<6; i++){\r\n    var attempts_so_far = $(\"#question_\" +i  + \"_attempts\").val();\r\n        attempts_so_far += \";\" + $(\"#row_\" + i + \"_answer\").val();\r\n        $(\"#question_\" +i  + \"_attempts\").val(attempts_so_far);\r\n    if($(\"#row_\" + i + \"_answer\").val() == answer_array[i]){\r\n      $(\"#feedback_\" + i).html(\"<span class='text-success'>Correct</span>\");\r\n    } else {\r\n      $(\"#feedback_\" + i).html(\"<span class='text-danger'>Incorrect</span>\");\r\n    }\r\n  }\r\n  $(\"#proceed_btn\").show();\r\n});\r\n</script>",
    "create_feedback": "<script>\r\n\r\n// based on https://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array\r\nfunction shuffle(array) {\r\n  var currentIndex = array.length, temporaryValue, randomIndex;\r\n\r\n  // While there remain elements to shuffle...\r\n  while (0 !== currentIndex) {\r\n\r\n    // Pick a remaining element...\r\n    randomIndex = Math.floor(Math.random() * currentIndex);\r\n    currentIndex -= 1;\r\n\r\n    // And swap it with the current element.\r\n    temporaryValue = array[currentIndex];\r\n    array[currentIndex] = array[randomIndex];\r\n    array[randomIndex] = temporaryValue;\r\n  }\r\n\r\n  return array;\r\n}\r\n\r\nvar growth_feedback = [{\r\n  \"correct\":   \"Correct: Apply that effort to the next one too\",\r\n  \"incorrect\": \"Incorrect: You need to apply more effort to the next one\"\r\n},{\r\n  \"correct\": \"Correct: Your work paid off\",\r\n  \"incorrect\": \"Incorrect: If you work harder it'll pay off\"\r\n},{\r\n  \"correct\": \"Correct: You must have tried hard on that one\",\r\n  \"incorrect\": \"Incorrect: You must try harder next time\"\r\n},{\r\n  \"correct\": \"Correct: I can see you have put in effort to get that right\",\r\n  \"incorrect\": \"Incorrect: You didn't put in enough effort\"\r\n},{\r\n  \"correct\": \"Correct: If you keep this up you'll be able to do even harder ones\",\r\n  \"incorrect\": \"Incorrect: Keep trying and you'll get there\" \r\n},{\r\n  \"correct\": \"Correct: The more you do the better you'll get\",\r\n  \"incorrect\": \"Incorrect: But you'll get better the more you do\"\r\n},{\r\n  \"correct\": \"Correct: Hard work is needed to do well on this\",\r\n  \"incorrect\": \"Incorrect: Hard work is needed to do well on this\"\r\n},{\r\n  \"correct\": \"Correct: You clearly worked hard\",\r\n  \"incorrect\": \"Incorrect: You needed to work harder\"\r\n},{\r\n  \"correct\": \"Correct: Practice makes perfect\",\r\n  \"incorrect\": \"Incorrect: But practice makes perfect\"\r\n},{\r\n  \"correct\": \"Correct: Keep up the good work\",\r\n  \"incorrect\": \"Incorrect: With a bit more work you'll get the next one\"\r\n}];\r\n\r\nvar fixed_feedback = [{\r\n  \"correct\": \"Correct: You must be really smart\",\r\n  \"incorrect\": \"Incorrect: That was probably too difficult\"\r\n},{\r\n  \"correct\": \"Correct: You're really good at this\",\r\n  \"incorrect\": \"Incorrect: Hopefully the next one will be easier\"\r\n},{\r\n  \"correct\": \"Correct: You're a natural at this\",\r\n  \"incorrect\": \"Incorrect: This seems beyond your ability\"\r\n},{\r\n  \"correct\": \"Correct: You must be good at maths\",\r\n  \"incorrect\": \"Incorrect: It is hard for some people to grasp this\"\r\n},{\r\n  \"correct\": \"Correct: This must be your strength\",\r\n  \"incorrect\": \"Incorrect: Maths might not be one of your strengths\"\r\n},{\r\n  \"correct\": \"Correct: Well done, you made that look easy\",\r\n  \"incorrect\": \"Incorrect: That wasn't an easy one\"\r\n},{\r\n  \"correct\": \"Correct: You are clearly very gifted at this\",\r\n  \"incorrect\": \"Incorrect: You might be gifted at something else\"\r\n},{\r\n  \"correct\": \"Correct: Intelligent people find these easy\",\r\n  \"incorrect\": \"Incorrect: Intelligent people find these easy\"\r\n},{\r\n  \"correct\": \"Correct: You're an arithmetic genius\",\r\n  \"incorrect\": \"Incorrect: Arithmetic isn't for everyone\"\r\n},{\r\n  \"correct\": \"Correct: Some people are talented at this\",\r\n  \"incorrect\": \"Incorrect: Some people are talented at this\"\r\n}];\r\n\r\nvar feedback_blocks = [\"fixed\", \"growth\"];\r\n\r\n/*\r\n* Shuffle the above arrays\r\n*/\r\n\r\nshuffle(feedback_blocks);\r\nshuffle(fixed_feedback);\r\nshuffle(growth_feedback);\r\nTrial.set(\"feedback_blocks\", feedback_blocks);\r\nTrial.set(\"fixed_feedback\",  fixed_feedback);\r\nTrial.set(\"growth_feedback\", growth_feedback);\r\n\r\nTrial.set_timer(function(){\r\n  Trial.submit();\r\n},100);\r\n\r\n\r\n\r\n\r\n\r\n</script>",
    "arithmetic_feedback": "<style>\r\n.trial_no{\r\n  width:150px;\r\n  height:50px;\r\n}\r\n#everything{\r\n  position: absolute;\r\n  top:0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  margin:auto;\r\n  width:600;\r\n  height:600;\r\n}\r\n#proceed_btn{\r\n  display:none;\r\n}\r\ntd {\r\n  padding:10px;\r\n  margin:5px;\r\n}\r\ninput{\r\n  float: right;\r\n  clear: both;\r\n  text-align: right;\r\n  letter-spacing: 1em;\r\n}\r\n.form-control {\r\n  display: inline-block;\r\n}\r\n</style>\r\n\r\n<div id=\"everything\">\r\n  <h2 class=\"text-primary\">{{row_1_tens}}{{row_1_units}} {{add_sub_mult}} {{row_2_tens}}{{row_2_units}}</h2>\r\n\r\n  <table>\r\n    <tr>\r\n      <td>\r\n        <h5>{{row_1_tens}}<u>{{row_1_units}}</u> {{add_sub_mult}} {{row_2_tens}}<u>{{row_2_units}}</u>:</h5>\r\n      </td>\r\n      <td>\r\n        <h5>{{row_1_units}} {{add_sub_mult}} {{row_2_units}}</h5>\r\n      </td>\r\n      <td>=</td>\r\n      <td>\r\n        <input type=\"number\" id=\"row_1_answer\" class=\"trial_no form-control pull-right\"/>\r\n      </td>\r\n      <td>\r\n        <h3 id=\"feedback_1\"></h3>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td><h5>{{row_1_tens}}<u>{{row_1_units}}</u> {{add_sub_mult}} <u>{{row_2_tens}}</u>{{row_2_units}}: </h5></td>\r\n      <td><h5>{{row_1_units}} {{add_sub_mult}} {{row_2_tens}}0</h5></td>\r\n      <td>=</td>\r\n      <td>\r\n        <input type=\"number\" id=\"row_2_answer\" class=\"trial_no\"/>\r\n      </td>\r\n      <td>\r\n        <h3 id=\"feedback_2\"></h3>\r\n      </td>\r\n    </tr>\r\n    \r\n    <tr>\r\n      <td><h5><u>{{row_1_tens}}</u>{{row_1_units}} {{add_sub_mult}} {{row_2_tens}}<u>{{row_2_units}}</u>: </h5></td>\r\n      <td><h5>{{row_1_tens}}0 {{add_sub_mult}} {{row_2_units}}</h5></td>\r\n      <td>=</td>\r\n      <td>\r\n        <input type=\"number\" id=\"row_3_answer\" class=\"trial_no\"/>\r\n      </td>\r\n      <td>\r\n        <h3 id=\"feedback_3\"></h3>\r\n      </td>\r\n    </tr>\r\n    \r\n    <tr>\r\n      <td><h5><u>{{row_1_tens}}</u>{{row_1_units}} {{add_sub_mult}} <u>{{row_2_tens}}</u>{{row_2_units}}: </h5></td>\r\n      <td><h5>{{row_1_tens}}0 {{add_sub_mult}} {{row_2_tens}}0 </h5></td>\r\n      <td>=</td>\r\n      <td>\r\n        <input type=\"number\" id=\"row_4_answer\" class=\"trial_no\"/>\r\n      </td>\r\n      <td>\r\n        <h3 id=\"feedback_4\"></h3>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td colspan = \"3\"></td>\r\n      <td><hr></rd>\r\n    </tr>\r\n    <tr>\r\n      <td colspan = \"3\"></td>\r\n      <td>\r\n        <input type=\"number\" id=\"row_5_answer\" class=\"trial_no\"/>\r\n      </td>\r\n      <td>\r\n        <h3 id=\"feedback_5\"></h3>\r\n      </td>\r\n    </tr>\r\n    <tr>\r\n      <td colspan = \"3\"></td>\r\n    </tr>\r\n    <tr>\r\n      <td colspan = \"3\"></td>\r\n      <td><hr></rd>\r\n    </tr>\r\n  </table>\r\n  <button class=\"btn btn-large btn-primary\" id=\"check_answers_btn\">Check Answers</button>\r\n  <button class=\"btn btn-large btn-primary\" onclick=\"Trial.submit()\" id=\"proceed_btn\">Proceed</button>\r\n</div>\r\n<script>\r\n\r\n\r\n/*\r\n* Work out what is going on with your blocks etc.\r\n*/\r\nTrial.set_timer(function(){\r\n  var block_types    = Trial.get(\"feedback_blocks\");\r\n  var block_type     = block_types[0];\r\n  var block_feedback = Trial.get(block_type + \"_feedback\");\r\n  \r\n  if(block_feedback.length == 0){\r\n    block_type = block_types[1];\r\n    block_feedback = Trial.get(block_type + \"_feedback\");\r\n  }\r\n  \r\n  var trial_feedback = block_feedback.pop();\r\n  \r\n  Trial.set(block_type + \"_feedback\", block_feedback);\r\n  \r\n  var answer_array = [\r\n    null,\r\n    \"{{answer_1}}\",\r\n    \"{{answer_2}}\",\r\n    \"{{answer_3}}\",\r\n    \"{{answer_4}}\",\r\n    \"{{answer_5}}\"\r\n  ];\r\n  \r\n  \r\n  $(\"#check_answers_btn\").on(\"click\",function(){\r\n    for(var i=1; i<5; i++){\r\n      console.dir(i);\r\n      console.dir($('#row_' + i + '_answer').val());\r\n      if($(\"#row_\" + i + \"_answer\").val() == answer_array[i]){\r\n        $(\"#feedback_\" + i).html(\"<span class='text-success'>Correct</span>\");\r\n      } else {\r\n        $(\"#feedback_\" + i).html(\"<span class='text-danger'>Incorrect</span>\");\r\n      }\r\n    }\r\n    if($(\"#row_\" + i + \"_answer\").val() == answer_array[i]){\r\n      $(\"#feedback_5\").html(\"<span class='text-success'>\" + trial_feedback.correct + \"</span>\");\r\n    } else {\r\n      $(\"#feedback_5\").html(\"<span class='text-danger'>\" + trial_feedback.incorrect + \"</span>\");\r\n    }\r\n    $(\"#proceed_btn\").show();\r\n  });\r\n},100);\r\n</script>",
    "survey": "<!--\r\n  Author: Dr. Anthony Haffey\r\n\r\n  Collector: Cat/Kitten release\r\n  A program for running experiments on the web\r\n  Copyright 2012-2018 Mikey Garcia & Nate Kornell\r\n\r\n\r\n  This program is free software: you can redistribute it and/or modify\r\n  it under the terms of the GNU General Public License version 3 as published by\r\n  the Free Software Foundation.\r\n\r\n  This program is distributed in the hope that it will be useful,\r\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n  GNU General Public License for more details.\r\n\r\n  You should have received a copy of the GNU General Public License\r\n  along with this program.  If not, see <http://www.gnu.org/licenses/>\r\n\r\n  Kitten release (2019) author: Dr. Anthony Haffey (team@someopen.solutions)\r\n-->\r\n<style>\r\nbody{\r\n  background-color:#5F9EA0;\r\n  width:100%;\r\n  height:100%;\r\n}\r\ntd{\r\n  padding:10px;\r\n  vertical-align: top;\r\n}\r\n\r\n/*\r\n*\telements by id\r\n*/\r\n\r\n#content{\r\n  width:95%;\r\n}\r\n#proceed_button{\r\n  display:none;\r\n  float:right;\r\n}\r\n#this_survey_id{\r\n  padding:            20px;\r\n  display:            none;\r\n}\r\n#survey_outline{\r\n\tposition: \t\t\t\t\tfixed;\r\n  top: \t\t\t\t\t\t\t\t50%;\r\n  left: \t\t\t\t\t\t\t50%;\r\n\theight: \t\t\t\t\t\t90%;\r\n\toverflow: \t\t\t\t\tauto;\r\n\t-webkit-transform: \ttranslate(-50%, -50%);\r\n  transform: \t\t\t\t\ttranslate(-50%, -50%);\r\n  background-color: \twhite;\r\n\tmin-width:        \t900px;\r\n\tmax-width:        \t9000px;\r\n\tborder-radius:    \t20px;\r\n  border-color:     \t#069;\r\n  border-style:     \tsolid;\r\n  border-width:     \t5px;\r\n\tpadding:            10px;\r\n}\r\n#survey_tabs{\r\n  padding:            20px;\r\n}\r\n\r\n\r\n/*\r\n*\telements by class\r\n*/\r\n.feedback_span_multiple{\r\n  display: none;\r\n  margin:  10px;\r\n}\r\n.feedback_span_single{\r\n  display: none;\r\n  padding: 10px;\r\n}\r\n.likert_table td{\r\n  padding:    1px;\r\n  text-align: center;\r\n}\r\n.likert_table td:hover{\r\n  color: blue;\r\n}\r\n.score_total{\r\n  display: none;\r\n}\r\n.show_tab{\r\n  margin: 5px;\r\n}\r\n.survey_btn{\r\n\twhite-space: normal;\r\n\tword-wrap: \t initial;\r\n}\r\n.table_break{\r\n\twidth:    100%;\r\n\theight:   300px;\r\n\toverflow: auto;\r\n}\r\n\r\n\r\n/*\r\n* by Bora Alp Arat at https://stackoverflow.com/questions/21684101/css-vertical-scrollbar-padding-left-right-in-ul-possible\r\n*/\r\n::-webkit-scrollbar {\r\n  width: 14px;\r\n  height: 18px;\r\n}\r\n::-webkit-scrollbar-thumb {\r\n  height: 6px;\r\n  border: 4px solid rgba(0, 0, 0, 0);\r\n  background-clip: padding-box;\r\n\t-webkit-border-radius: 7px;\r\n  background-color: rgba(0, 102, 153, 0.5);\r\n  -webkit-box-shadow: inset -1px -1px 0px rgba(0, 0, 0, 0.05), inset 1px 1px 0px rgba(0, 0, 0, 0.05);\r\n}\r\n::-webkit-scrollbar-button {\r\n  width: 0;\r\n  height: 0;\r\n  display: none;\r\n}\r\n::-webkit-scrollbar-corner {\r\n  background-color: transparent;\r\n}\r\n</style>\r\n<div id=\"everything\">\r\n\t<div id=\"survey_outline\"></div>\r\n</div>\r\n<script>\r\n/////////////////////////\r\n// Retrieving settings //\r\n/////////////////////////\r\n\r\nif(typeof(settings) !== \"undefined\"){\r\n  settings = [settings];\r\n} else {\r\n  settings = {};\r\n}\r\n\r\n//////////////////////////////////\r\n// vertical vs. horizontal tabs //\r\n//////////////////////////////////\r\n\r\nif(typeof(settings.tab_hor_vert) == \"undefined\" || settings.tab_hor_vert.toLowerCase() == \"horizontal\"){\r\n  settings.tab_hor_vert = \"horizontal\";\r\n  $(\"#survey_outline\").html(  '<div id=\"please_wait_div\">Loading... Please wait</div>'+\r\n                              '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>'+\r\n                              '<div id=\"survey_tabs\" style=\"text-align:right\" class=\"border-top border-primary\"></div><input type=\"submit\" value=\"Proceed\" class=\"btn btn-primary\" id=\"proceed_button\">');\r\n\r\n} else if (settings.tab_hor_vert.toLowerCase() == \"vertical\"){\r\n  $(\"#survey_outline\").html( '<table>'+\r\n                                '<tr>'+\r\n                                  '<td valign=\"top\" class=\"border-right border-primary\">'+\r\n                                    '<div id=\"survey_tabs\"></div></td>' +\r\n                                  '<td>'+\r\n                                    '<div id=\"please_wait_div\">Please wait while survey is downloading</div>'+\r\n                                    '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>' +\r\n                                    '<input type=\"button\" value=\"Proceed\" class=\"btn btn-primary\" id=\"proceed_button\">'+\r\n                                  '</td>'+\r\n                                '</tr>'+\r\n                              '</table>');\r\n} else if(settings.tab_hor_vert.toLowerCase() == \"none\"){\r\n  $(\"#survey_outline\").html(  '<div id=\"survey_tabs\" style=\"display:none\"></div>' +\r\n                              '<div id=\"please_wait_div\">Please wait while survey is downloading</div>'+\r\n                              '<div id=\"this_survey_id\" class=\"needs-validation\" novalidate></div>');\r\n} else {\r\n  bootbox.alert(\"If you are the researcher, please check the 'settings for this survey. The input for 'tab_hor_vert' appears to be invalid. Please change it to 'horizontal' or 'vertical' or 'none' or remove 'tab_hot_vert' altogether from the settings, which will make the tabs invisible\");\r\n}\r\n</script>\r\n\r\n<span id=\"scales_span\"></span>\r\n\r\n<script>\r\n\r\n//////////////////////\r\n// Defining objects //\r\n//////////////////////\r\n\r\npage_break_management = {\r\n  breaks_remaining : 0,\r\n  breaks_index     : 0\r\n}\r\n\r\nproceed_object = {\r\n  type:[],\r\n  name:[],\r\n  break_no:[]\r\n};\r\n\r\nscoring_object={\r\n  scales:[],\r\n  scale_scores:[],\r\n  update_scales:function(this_survey){\r\n    headers = Object.keys(this_survey[0]);\r\n    this.scales = headers.filter(elm => elm.includes(\"score:\"));\r\n    var scales_html = '';\r\n    this.scales.forEach(function(element){\r\n      element = element.replace(\": \",\":\");\r\n      scales_html += \"<input name='\"+element.replace(/ |:/g,\"_\")+\"' class='score_total \"+element.replace(/ |:/g,\"_\")+\"' disabled>\";\r\n    });\r\n    $(\"#scales_span\").html(scales_html);\r\n  }\r\n}\r\n\r\nsurvey_obj = {};\r\n\r\n\r\n/////////////////////\r\n// Element actions //\r\n/////////////////////\r\n\r\n/*\r\n$(function() {\r\n  $( \".datepicker\" ).datepicker({\r\n    dateFormat : 'mm/dd/yy',\r\n    changeMonth : true,\r\n    changeYear : true,\r\n    yearRange: '-100y:c+nn',\r\n    maxDate: '-1d'\r\n  });\r\n});\r\n*/\r\n\r\n\r\n$('#ExperimentContainer').css('transform','scale(1,1)');\r\n\r\n$(\"#proceed_button\").on(\"click\",function(){\r\n  var proceed = true;\r\n  var tabs    = document.getElementsByClassName('show_tab active');\r\n  if(tabs.length > 0){\r\n    var current_tab       = document.getElementsByClassName('show_tab active')[0]\r\n                                    .id\r\n                                    .replace(\"_button\", \"\")\r\n                                    .replace(\"tab_\",    \"\");\r\n    var response_elements = $('#table_'+current_tab).find('.response_element');\r\n\r\n  } else {\r\n    response_elements = $(\".table_break:visible\").find(\".response_element\");\r\n  }\r\n\r\n  for(var i = 0; i < response_elements.length; i++){\r\n    [this_row_no,item_name] = retrieve_row_no_item_name(response_elements[i]);\r\n    var this_optional = survey_obj.data[this_row_no].optional.toLowerCase();\r\n\r\n    if(this_optional.indexOf(\"no\") !== -1){\r\n      this_optional = this_optional.split(\"-\");       // find out whether there's a minimal number of responses\r\n      if(this_optional.length == 1){                  // default is that length needs to be at least 1\r\n        var min_resp_length = 1;\r\n      } else if(this_optional.length == 2) {\r\n        var min_resp_length = this_optional[1];\r\n      } else {\r\n        bootbox.alert(\"Error - you appear to have too many '-' characters in the 'optional' column\");\r\n        return false;\r\n      }\r\n    } else {\r\n      min_resp_length = 0;\r\n    }\r\n\r\n\r\n    var quest_resp = isJSON($(\"#\"+response_elements[i].id).val());\r\n    if (quest_resp.length < min_resp_length){\r\n      proceed = false;\r\n\t\t\t$(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-dark\");\r\n      $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-success\");\r\n      $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).addClass(\"text-danger\");\r\n    } else {\r\n\t\t\t$(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-dark\");\r\n      $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).removeClass(\"text-danger\");\r\n      $(\"#\"+response_elements[i].id.replace(\"response\",\"question\")).addClass(\"text-success\");\r\n    }\r\n  }\r\n\r\n  if(current_tab == survey_obj.tabs && proceed){\r\n    if(typeof(sql_surveys) == \"undefined\"){\r\n      //$(\".table_break\");\r\n      var next_table_no = parseFloat($(\".table_break:visible\")[0].id.replace(\"table\",\"\")) + 1;\r\n\r\n      if($(\".table_break#table\"+next_table_no).length == 0){\r\n        if(typeof(Trial) !== \"undefined\"){\r\n          Trial.submit();\r\n        } else {\r\n          bootbox.alert(\"You've finished! Click on the preview button to restart.\")\r\n        }\r\n      } else {\r\n        $(\".table_break\").hide();\r\n        $(\".table_break#table\" + next_table_no).show();\r\n      }\r\n    } else {\r\n      $(\"#survey_outline\").html(\"<h1> You have finished the preview of this survey.</h1>\");\r\n    }\r\n  } else if(current_tab < survey_obj.tabs && proceed) {\r\n    current_tab ++;\r\n    $(\"#tab_\"+current_tab+\"_button\").removeClass(\"btn-secondary\");\r\n    $(\"#tab_\"+current_tab+\"_button\").removeClass(\"disabled\");\r\n    $(\"#tab_\"+current_tab+\"_button\").addClass(\"btn-outline-dark\");\r\n    $(\"#tab_\"+current_tab+\"_button\").click();\r\n  } else if(proceed == false){\r\n    bootbox.alert(\"You have failed to complete at least one compulsory input.\");\r\n  } else if(current_tab > survey_obj.tabs){\r\n    bootbox.alert(\"Error - please contact the Collector team about this problem, error 'Survey_001'.\");\r\n  }\r\n});\r\n\r\n//by qwerty at https://stackoverflow.com/questions/2116558/fastest-method-to-replace-all-instances-of-a-character-in-a-string\r\nString.prototype.replaceAll = function(str1, str2, ignore){\r\n  return this.replace(new RegExp(str1.replace(/([\\/\\,\\!\\\\\\^\\$\\{\\}\\[\\]\\(\\)\\.\\*\\+\\?\\|\\<\\>\\-\\&])/g,\"\\\\$&\"),(ignore?\"gi\":\"g\")),(typeof(str2)==\"string\")?str2.replace(/\\$/g,\"$$$$\"):str2);\r\n}\r\n\r\n\r\n///////////////\r\n// Functions //\r\n///////////////\r\n\r\nfunction clean_item(this_item){\r\n  if(this_item.indexOf(\"'\") !== -1 |\r\n     this_item.indexOf('\"') !== -1){\r\n    bootbox.alert(\"Please avoid apostraphe's or quote marks in the responses the participant can give. These cause problems with smooth running of surveys. This occurs when you wrote:<br><br>\" + this_item);\r\n  }\r\n\r\n  /*\r\n  this_item = this_item.replaceAll(\"'\",\"\")\r\n                       .replaceAll('\"','');\r\n  */\r\n\r\n  return(this_item);\r\n}\r\n\r\nfunction load_survey(survey){\r\n  // are we in preview?\r\n  /////////////////////\r\n  if(typeof(parent.master_json) !== \"undefined\" && parent.master_json.surveys.preview){     // Yes\r\n    survey_content = survey;                                                    // i.e. the content has been passed through directly\r\n    survey_obj.mods = parent.master_json.mods;                                //no need to be efficient in preview\r\n\r\n  } else {                                                                      // No\r\n    survey = survey.toLowerCase().replace(\".csv\",\"\") + \".csv\";\r\n\r\n    if(typeof(parent.parent.exp_json.surveys) !== \"undefined\" &&\r\n       typeof(parent.parent.exp_json.surveys[survey]) !== \"undefined\"){\r\n      survey_content = parent.parent.exp_json.surveys[survey];\r\n      survey_obj.mods = parent.parent.exp_json.mods;                     //take mods from exp_json\r\n\r\n    } else if(typeof(parent.parent.exp_json.surveys) !== \"undefined\" &&\r\n\t\t\t\t\t\t\ttypeof(parent.parent.exp_json.surveys[survey.replace(\".csv\",\"\")])){\r\n\t\t\tsurvey_content = parent.parent.exp_json.surveys[survey.replace(\".csv\",\"\")];\r\n      survey_obj.mods = parent.parent.exp_json.mods;                     //take mods from exp_json\r\n\t\t}\telse {\r\n      bootbox.alert(\"Survey \" + survey  + \" doesn't appear to exist\");\r\n    }\r\n  }\r\n  process_returned_questionnaire(survey_content);\r\n}\r\n\r\nfunction generate_feedback_string(feedback_array,this_index,feedback_color,row_no,this_row){\r\n  if(feedback_array){                 //i.e. if it's not null\r\n    if(feedback_array.length > 1){\r\n      return \"<div class='feedback_span_multiple \"+this_row[\"item_name\"].toLowerCase()+\"_feedback' style='color:\"+feedback_color[this_index]+\"'>\"+feedback_array[this_index]+\"</div>\";\r\n    } else {\r\n      return \"<div class='feedback_span_single \"+this_row[\"item_name\"].toLowerCase()+\"_feedback' style='color:\"+feedback_color[this_index]+\"'>\"+feedback_array[this_index]+\"</div>\";\r\n    }\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nfunction isJSON(str) {\r\n  try {\r\n    return JSON.parse(str);\r\n  } catch (e) {\r\n    return str;\r\n  }\r\n}\r\n\r\n\r\nfunction likert_update(this_element,this_response,this_value){\r\n  [row_no,item_name] = retrieve_row_no_item_name(this_element);\r\n  $(\".row_\"+row_no).removeClass(\"active\");\r\n  $(\".row_\"+row_no).removeClass(\"btn-primary\");\r\n  $(\".row_\"+row_no).addClass(\"btn-outline-primary\");\r\n  $(this_element).removeClass(\"btn-outline-primary\");\r\n  $(this_element).addClass(\"btn-primary\");\r\n  $(\"#survey_\"+item_name+\"_response\").val(this_response);\r\n  response_check(this_element);\r\n}\r\n\r\n\r\nfunction process_item_score(survey_obj,row_no,values_col,this_response,item,values_reverse){\r\n  item_values       = survey_obj.data[row_no][values_col].split(\"|\");\r\n  if(typeof(values_reverse) !== \"undefined\" && values_reverse == \"r\"){\r\n    item_values.reverse();\r\n  }\r\n  item_answers      = survey_obj.data[row_no][\"answers\"].split(\"|\");\r\n  var this_value    = item_values[item_answers.indexOf(this_response)];\r\n  $(\"#survey_\" + item + \"_score\").val(this_value);\r\n  if(typeof(this_value) !== \"undefined\"){\r\n    return parseFloat(this_value);\r\n  }\r\n}\r\n\r\nfunction process_returned_questionnaire(data){\r\n  survey_obj.data = data;\r\n  survey_obj.data = Papa.parse(Papa.unparse(survey_obj.data),{\r\n                      header:true,\r\n                      beforeFirstChunk: function(chunk) {\r\n                        var rows = chunk.split( /\\r\\n|\\r|\\n/ );\r\n                        var headings = rows[0].toLowerCase();\r\n                        rows[0] = headings;\r\n                        return rows.join(\"\\r\\n\");\r\n                      },\r\n                    }).data;\r\n\r\n  var col_headers = Object.keys(survey_obj.data[0]);\r\n  survey_obj.scales = {};\r\n\r\n  col_headers.forEach(function(header){\r\n    if(header.indexOf(\"score:\")==0){\r\n      var original_header = header;\r\n      header = header.replace(\"score: \",\"\");\r\n      header = header.replace(\"score:\",\"\");\r\n\r\n      survey_obj.scales[header] = {};\r\n      survey_obj.scales[header].questions = {};\r\n\r\n      //identify which questions\r\n      for(var i = 1; i< survey_obj.data.length; i++){\r\n        row = survey_obj.data[i];\r\n        if(row[original_header] !== \"\" && typeof(row[original_header]) !== \"undefined\"){\r\n          survey_obj.scales[header].questions[i] = row[original_header];\r\n        }\r\n      }\r\n    }\r\n  });\r\n  write_survey(survey_obj.data,\"this_survey_id\");\r\n  $(\"#please_wait_div\").hide();\r\n  $(\"#proceed_button\").show();\r\n\r\n  $('html, body').animate({\r\n    scrollTop: $(\"#survey_outline\").offset().top\r\n  }, 1000);\r\n}\r\n\r\nfunction process_survey_question(this_row,row_no){\r\n\r\n  if(this_row.values == \"\"){\r\n    this_row.values = this_row.answers;\r\n  }\r\n\r\n  if(typeof(this_row[\"text\"]) !== \"undefined\" &&\r\n\t\t typeof(this_row[\"type\"]) !== \"undefined\" &&\r\n\t\t this_row['text'].toLowerCase() == \"page_break\" |\r\n\t\t this_row['type'].toLowerCase() == \"page_break\"){\r\n        page_break_management.breaks_remaining++;\r\n        question_td = \"</tr></table><table id='table\" + page_break_management.breaks_remaining + \"' style='display:none' class='table_break'></tr>\";\r\n  } else {\r\n\r\n    if(typeof(this_row[\"values\"]) !== \"undefined\" & typeof(this_row[\"values\"]) !== \"function\"){ //to address microsoft edge issue.\r\n      value_array = this_row[\"values\"].split(\"|\");\r\n    } else {\r\n      value_array='';\r\n    }\r\n\r\n    if(this_row[\"item_name\"].indexOf(\" \") !== -1){\r\n      bootbox.alert(\"Please note that the 'item name' '\" + this_row['item_name'] + \"' is invalid because it has at least one space. Please use underscores instead of spaces. If you're not the creator of this task, please contact the person who created it.\");\r\n    }\r\n\r\n    // class for scoring\r\n    this_class = \"\";\r\n    for(var i=0;i<scoring_object.scales.length;i++){\r\n      if(this_row[scoring_object.scales[i].toLowerCase()]==\"1\"){\r\n        this_class += scoring_object.scales[i].toLowerCase().replace(\"score: \",\"\").replace(/ |-/,\"\")+\" \";\r\n      }\r\n      if(this_row[scoring_object.scales[i].toLowerCase()]==\"r1\"){\r\n        this_class += scoring_object.scales[i].toLowerCase().replace(\"score: \",\"\").replace(\" \",\"_\")+\"-r1 \";\r\n      }\r\n    }\r\n\r\n    [feedback_array,feedback_color] = retrieve_feedback(this_row);\r\n\r\n    response_html = '<input type=\"hidden\" class=\"response_element row_'+row_no+'\" id=\"survey_'+this_row[\"item_name\"].toLowerCase()+'_response\" name=\"survey_'+this_row[\"item_name\"].toLowerCase()+'_response\"  value=\"\">';\r\n\r\n\r\n    // Survey settings\r\n    ////////////////////\r\n\r\n    [row_ques_perc,row_resp_perc] = quest_resp_perc(this_row[\"question_width\"]);\r\n\r\n    if(typeof(settings.feedback_before_response) == \"undefined\"){\r\n        settings.feedback_before_response = true;\r\n    }\r\n\r\n    if(typeof(settings.lock_after_feedback) == \"undefined\"){\r\n        settings.lock_after_feedback = false;\r\n    }\r\n    var question_td='';\r\n\r\n    if(typeof(this_row[\"type\"]) == \"undefined\"){\r\n        return false;\r\n    }\r\n\r\n    // Item types\r\n    ///////////////\r\n\r\n    if(typeof(survey_obj.mods) !== \"undefined\" &&\r\n\t\t\t typeof(survey_obj.mods[this_row.type]) !== \"undefined\"){\r\n\r\n      var mod_html = survey_obj.mods[this_row.type].contents;\r\n\r\n      //for each row variable, insert it into the mod if possible?\r\n      Object.keys(this_row).forEach(function(attribute){\r\n        mod_html = mod_html.replaceAll(\"{{\"+attribute+\"}}\",this_row[attribute]);\r\n      });\r\n      question_td += mod_html;\r\n    } else {\r\n\r\n      switch(this_row[\"type\"].toLowerCase()){\r\n        case \"page_start\":\r\n          var tabs_html = $(\"#survey_tabs\").html();\r\n          if(settings.tab_hor_vert == \"horizontal\"){\r\n            span_div = \"span\";\r\n          } else if(settings.tab_hor_vert == \"vertical\"){\r\n            span_div = \"div\";\r\n          }\r\n          if(typeof(survey_obj.tabs) == \"undefined\"){\r\n            survey_obj.tabs = 0;\r\n          } else {\r\n            survey_obj.tabs++;\r\n          }\r\n          if(survey_obj.tabs == 0){ //i.e. is the first tab\r\n            active_button = \"btn-outline-primary active\";\r\n          } else {\r\n            active_button = \"btn-secondary disabled\";\r\n          }\r\n          if(settings.tab_hor_vert == \"vertical\"){\r\n            var vert_btn_block = \"btn-block\";\r\n          } else {\r\n            var vert_btn_block = \"\";\r\n          }\r\n\r\n          tabs_html +=  '<'+span_div+' class=\"btn-group-toggle\" data-toggle=\"buttons\">'+\r\n            '<label id=\"tab_' + survey_obj.tabs + '_button\" class=\"btn show_tab '+active_button+' '+vert_btn_block+'\">'+\r\n              '<input type=\"checkbox\" checked autocomplete=\"off\">'+ this_row['text'] +\r\n            '</label>'+\r\n          '</'+span_div+'>';\r\n\r\n          $(\"#survey_tabs\").html(tabs_html);\r\n\r\n          page_break_indexes = [];\r\n          survey_obj.data.forEach(function(this_row,this_index){\r\n            if(typeof(this_row.type) !== \"undefined\" && this_row.type.toLowerCase() == \"page_start\"){\r\n              page_break_indexes.push(this_index);\r\n            }\r\n          });\r\n\r\n          if(survey_obj.tabs > 0){\r\n            question_td += \"</td><td></td></tr></table></div><div class='survey_page' id='tab_\"+survey_obj.tabs+\"' style='display:none'><table id='table_\"+survey_obj.tabs+\"' class='table_break'><tr>\";\r\n          } else {\r\n            question_td += \"</td><td></td></tr></table><div class='survey_page' id='tab_\"+survey_obj.tabs+\"' ><table id='table_\"+survey_obj.tabs+\"' class='table_break'><tr>\";\r\n          }\r\n        break;\r\n\r\n        case \"checkbox\":\r\n        case \"checkbox_vertical\":\r\n          var options = this_row[\"answers\"].split(\"|\");\r\n          question_td +=  response_html;\r\n          for(var i=0; i<options.length;i++){\r\n            feedback_string = generate_feedback_string(feedback_array,i,feedback_color,row_no,this_row);\r\n            question_td +=  '<div class=\"custom-control custom-checkbox\">'+\r\n                '<input type=\"checkbox\" class=\"custom-control-input '+this_class+' custom-control custom-checkbox '+this_row[\"item_name\"]+'_item row_'+row_no+'\" id=\"'+this_row[\"item_name\"]+ i +'\"  onchange=\"response_check(this)\" name=\"survey_'+this_row[\"item_name\"].toLowerCase()+'\">'+\r\n                '<label class=\"custom-control-label\" for=\"'+this_row[\"item_name\"]+i+'\">'+options[i]+'</label>'+\r\n                feedback_string +\r\n            '</div>';\r\n          }\r\n          break;\r\n\r\n          case \"checkbox_horizontal\":\r\n            feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n            var options = this_row[\"answers\"].split(\"|\");\r\n            question_td += response_html;\r\n            question_td += '<table><tr>';\r\n            for(var i=0; i<options.length;i++){\r\n              question_td +=  '<td>'+\r\n                                '<div class=\"custom-control custom-checkbox\">'+\r\n                                  '<input type=\"checkbox\" class=\"custom-control-input '+this_class+' custom-control custom-checkbox '+this_row[\"item_name\"]+'_item row_'+row_no+'\" id=\"'+this_row[\"item_name\"]+ i +'\"  onchange=\"response_check(this)\" name=\"survey_'+this_row[\"item_name\"].toLowerCase()+'\">'+\r\n                                    '<label class=\"custom-control-label\" for=\"'+this_row[\"item_name\"]+i+'\">'+options[i]+'</label>'+\r\n                                '</div>'+\r\n                              '</td>';\r\n            }\r\n            question_td += '</tr></table>'+feedback_string;\r\n          break;\r\n\r\n          case \"checkbox_single\":\r\n            feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n            var this_option = this_row[\"answers\"];\r\n            question_td +=  response_html +\r\n                            '<div class=\"btn-group-toggle\" data-toggle=\"buttons\">'+\r\n                                '<label class=\"btn btn-outline-primary\">'+\r\n                                    '<input type=\"checkbox\" class=\"'+this_row[\"item_name\"]+'_item row_'+row_no+'\"  checked autocomplete=\"off\" id=\"'+this_row[\"item_name\"]+'\" onchange=\"response_check(this)\" name=\"survey_'+this_row[\"item_name\"].toLowerCase()+'\">'+ this_option +\r\n                                '</label>'+\r\n                            '</div>' + feedback_string;\r\n          break;\r\n\r\n          case \"date\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              question_td+=   response_html+\r\n                              \"<input onchange='response_check(this)' class='custom-control datepicker date \"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' type='text' name='survey_\"+this_row['item_name'].toLowerCase()+\"'>\"+\r\n                              feedback_string;\r\n          break;\r\n\r\n          case \"dropdown\":\r\n\t\t\t\t\tcase \"select\":\r\n              feedback_string = generate_feedback_string(feedback_array,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t feedback_color,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t row_no,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t this_row);\r\n              var options = this_row[\"answers\"].split(\"|\");\r\n              question_td += response_html +\r\n\t\t\t\t\t\t\t\t'<select ' +\r\n\t\t\t\t\t\t\t\t\t'class=\"custom-select ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'text-primary ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis_row[\"item_name\"] +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'_item row_' + row_no +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'collector_button \"' +\r\n\t\t\t\t\t\t\t\t\t\t'onchange=\"response_check(this)\" ' +\r\n\t\t\t\t\t\t\t\t\t\t'name=\"survey_' + this_row[\"item_name\"].toLowerCase() + '\">' +\r\n\t\t\t\t\t\t\t\t\t\t'<option selected disabled hidden>-- no option selected --</option>';\r\n              for(var i=0; i<options.length;i++){\r\n\t\t\t\t\t\t\t\tquestion_td += \"<option>\" + options[i] + \"</option>\";\r\n              }\r\n              question_td += '</select>' + feedback_string;\r\n          break;\r\n\r\n          case \"email\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              question_td += response_html+\"<input class='form-control type='email' \"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' onchange='response_check(this)' type='text' name='survey_\"+this_row['item_name'].toLowerCase()+\"'>\";\r\n              question_td += feedback_string;\r\n          break;\r\n\r\n          case \"google_slide\":\r\n          case \"instruct\":\r\n              //question_td += </td>\"; // \"<span class='text-primary'>\" + this_row[\"text\"] + \"</span>\";\r\n          break;\r\n\r\n          // tidy up this code for nice looking buttons\r\n          case \"likert\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              var options  = this_row[\"answers\"].split(\"|\");\r\n\r\n\t\t\t\t\t\t\tif(typeof(this_row[\"values\"]) == \"undefined\"){\r\n                this_row[\"values\"] = this_row[\"answers\"];\r\n              }\r\n\r\n\t\t\t\t\t\t\tif(typeof(this_row[\"btn_width\"]) !== \"undefined\" && this_row[\"btn-width\"]  !== \"\"){\r\n\t\t\t\t\t\t\t\tvar btn_style = \"width:\" + this_row[\"btn_width\"];\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tvar btn_style = \"\";\r\n\t\t\t\t\t\t\t}\r\n\r\n              if(typeof(this_row[\"side_width\"]) !== \"undefined\"){\r\n                var side_width = \"max-width:\" + this_row[\"side_width\"] + \";\" +\r\n                                 \"min-width:\" + this_row[\"side_width\"] + \";\";\r\n              } else {\r\n                var side_width = \"\";\r\n              }\r\n\r\n              var values   = this_row[\"values\"].split(\"|\");\r\n              question_td += \t\"<table class='likert_table'>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"<tr>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"<td style='\" + side_width + \"'>\";\r\n\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t* Add side_text if it exists\r\n\t\t\t\t\t\t\t*/\r\n\r\n\t\t\t\t\t\t\tif(typeof(this_row[\"side_text\"]) !== \"undefined\" &&\r\n\t\t\t\t\t\t\t\tthis_row[\"side_text\"] !== \"\"){\r\n\t\t\t\t\t\t\t\tside_text = this_row[\"side_text\"].split(\"|\");\r\n\t\t\t\t\t\t\t\tside_text = side_text.map(function(this_side){\r\n\t\t\t\t\t\t\t\t\treturn \"<span style='\" + side_width + \" padding:20px;' class='text-primary'><b>\" + this_side + \"</b></span></td><td>\";\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tside_text = [\"\",\"\"];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tquestion_td += side_text[0];\r\n\r\n\t\t\t\t\t\t\tquestion_td +=  response_html +\r\n                              '<div class=\"btn-group btn-group-toggle\" data-toggle=\"buttons\">'; //to help detect blank likert's\r\n\r\n\r\n\t\t\t\t\t\t\tfor(var i=0; i<options.length;i++){\r\n                var this_option = clean_item(options[i]);\r\n                question_td +=  '<button type=\"button\" '+\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'class=\"btn '+\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 'survey_btn ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t 'btn-outline-primary ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t this_row[\"item_name\"] + '_item row_' + row_no +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t '\"autocomplete=\"off\"' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'id = \"likert_' + row_no + '_' + i + '\" ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'style = \"' + btn_style + '\" ' +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'onclick=\"likert_update(this,\\''+this_option+'\\',\\''+values[i]+'\\')\">'+\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis_option +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'</button>';\r\n\r\n              }\r\n\t\t\t\t\t\t\tquestion_td +=  \"</div></td><td  style='\" + side_width + \"'>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tside_text[1] +\r\n                              \"<input type='hidden' class='\"+this_class+\"' id='survey_\"+this_row[\"item_name\"].toLowerCase()+\"_score' name='survey_\"+this_row[\"item_name\"].toLowerCase()+\"_score'></td>\"+\r\n                          \"</td>\"+\r\n                      \"</tr>\"+\r\n                  \"</table>\"+feedback_string;\r\n          break;\r\n\r\n          case \"number\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              question_td += response_html +\"<input type='number'  onchange='response_check(this)' class='form-control \"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' name='survey_\"+this_row['item_name'].toLowerCase()+\"'>\" + feedback_string;\r\n          break;\r\n\r\n          case \"para\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              question_td += response_html+\"<textarea name='survey_\"+this_row['item_name'].toLowerCase()+\"' class='\"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' onchange='response_check(this)' style='width:100%;height:200px'></textarea>\";\r\n              question_td += feedback_string;\r\n          break;\r\n\r\n          case \"radio\":\r\n          case \"radio_vertical\":\r\n            var options = this_row[\"answers\"].split(\"|\");\r\n            var values   = this_row[\"values\"].split(\"|\");\r\n            question_td +=  response_html;\r\n            for(var i=0; i<options.length;i++){\r\n              feedback_string = generate_feedback_string(feedback_array,i,feedback_color,row_no,this_row);\r\n\r\n              question_td +=  '<div class=\"custom-control custom-radio\">'+\r\n                                '<input type=\"radio\" class=\"custom-control-input '+this_class+'  onclick=\"likert_update(this,\\''+options[i]+'\\',\\''+values[i]+'\\')\" custom-control custom-radio '+this_row[\"item_name\"]+'_item row_'+row_no+'\" id=\"'+this_row[\"item_name\"]+ i +'\"  onchange=\"response_check(this)\" value=\"' + options[i] + '\" name=\"survey_'+this_row[\"item_name\"].toLowerCase()+'\">'+\r\n                                '<label class=\"custom-control-label\" for=\"'+this_row[\"item_name\"]+i+'\">'+options[i]+'</label>'+\r\n                                  feedback_string +\r\n                              '</div>';\r\n\r\n\r\n            }\r\n            question_td +=  \"<input type='hidden' class='\"+this_class+\"' id='survey_\"+this_row[\"item_name\"].toLowerCase()+\"_score' name='survey_\"+this_row[\"item_name\"].toLowerCase()+\"_score'>\";\r\n          break;\r\n\r\n          case \"radio_horizontal\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              var options = this_row[\"answers\"].split(\"|\");\r\n              question_td +=  response_html;\r\n              for(var i=0; i<options.length;i++){\r\n                  question_td +=  '<div class=\"custom-control custom-radio custom-control-inline\">'+\r\n                                      '<input type=\"radio\" class=\"custom-control-input '+this_class+' custom-control custom-radio '+this_row[\"item_name\"]+'_item row_'+row_no+'\" id=\"'+this_row[\"item_name\"]+ i +'\"  onchange=\"response_check(this)\" name=\"survey_'+this_row[\"item_name\"].toLowerCase()+'\">'+\r\n                                      '<label class=\"custom-control-label\" for=\"'+this_row[\"item_name\"]+i+'\">'+options[i]+'</label>'+\r\n                                      '<div class=\"invalid-feedback\">Example invalid feedback text</div>'+\r\n                                  '</div>'\r\n              }\r\n              question_td += feedback_string;\r\n          break;\r\n\r\n          case \"report_score\":\r\n              question_td += \"<input disabled class='form-control score_\" + this_row[\"item_name\"] + \" \"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' type='text' name='survey_\"+this_row['item_name'].toLowerCase()+\"'>\";\r\n          break;\r\n\r\n          case \"text\":\r\n              feedback_string = generate_feedback_string(feedback_array,0,feedback_color,row_no,this_row);\r\n              question_td += response_html+\"<input class='form-control \"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' onchange='response_check(this)' type='text' name='survey_\"+this_row['item_name'].toLowerCase()+\"'>\";\r\n              question_td += feedback_string;\r\n          break;\r\n\r\n      }\r\n    }\r\n    if(feedback_array){\r\n        question_td += \"<button class='btn btn-outline-info feedback_btn \"+this_row[\"item_name\"]+\"_item row_\"+row_no+\"' data-toggle='tooltip' id='reveal_\"+this_row[\"item_name\"].toLowerCase()+\"_feedback'  onclick='reveal_answers(this)'>Show</button>\";\r\n    }\r\n  }\r\n//  question_td += '</td>';\r\n\r\n  if(typeof(this_row[\"type\"])== \"undefined\"){\r\n      return '';\r\n  } else {\r\n    if(this_row[\"type\"].toLowerCase() == \"instruct\"){\r\n      var this_row_html = \"<td colspan='2'>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis_row[\"text\"] +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"</td>\";\r\n\t\t} else if(this_row[\"type\"].toLowerCase() == \"likert\"){\r\n\r\n\t\t\tif(typeof(this_row[\"side_by_side\"]) !== \"undefined\" &&\r\n\t\t\t\t this_row[\"side_by_side\"].toLowerCase() == \"yes\"){\r\n\r\n\t\t\t\tvar this_row_html=\"<td class='text-primary' id='survey_\"+this_row[\"item_name\"].toLowerCase().replace(\" \",\"_\")+\"_question' style='width:\"+row_ques_perc+\"; text-align:right'>\"+this_row[\"text\"]+\"</td><td>\"+question_td+\"</label></td>\";\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\tvar this_row_html = \"<tr>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"<td colspan='2'>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis_row[\"text\"] +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"</td>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"</tr>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"<tr>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"<td colspan='2' align='center'>\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tquestion_td +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"</td>\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"</tr>\";\r\n\r\n\t\t\t}\r\n\r\n\r\n    } else if(this_row[\"type\"].toLowerCase()==\"google_slide\") {\r\n      var this_row_html=\"<td colspan='2'>\"+this_row[\"text\"]+\"</label></td>\";\r\n    } else if(typeof(this_row[\"no_text\"]) !== \"undefined\" && this_row[\"no_text\"] == \"on\"){\r\n      var this_row_html=\"<td colspan='2'>\"+question_td+\"</td>\";\r\n    } else {\r\n      if(this_row['text'].toLowerCase() == \"page_start\" | this_row['type'].toLowerCase() == \"page_start\"){\r\n        this_row_html = question_td;\r\n      }else {\r\n        var this_row_html=\"<td class='text-primary' id='survey_\"+this_row[\"item_name\"].toLowerCase().replace(\" \",\"_\")+\"_question' style='width:\"+row_ques_perc+\"; text-align:right'>\"+this_row[\"text\"]+\"</td><td>\"+question_td+\"</label></td>\";\r\n      }\r\n    }\r\n    if(typeof(this_row[\"optional\"]) !== \"undefined\"){\r\n      if(this_row[\"optional\"].toLowerCase() == \"no\"){\r\n        proceed_object.name.push(this_row[\"item_name\"]);\r\n        proceed_object.type.push(this_row[\"type\"]);\r\n        proceed_object.break_no.push(page_break_management.breaks_remaining);\r\n      }\r\n    }\r\n    if(typeof(this_row[\"shuffle\"]) == \"undefined\" || this_row[\"shuffle\"].toLowerCase() == \"off\"){\r\n      this_shuffle='none';\r\n    } else {\r\n      this_shuffle=this_row[\"shuffle\"];\r\n    }\r\n    return [this_row_html,this_shuffle];\r\n  }\r\n}\r\n\r\nfunction quest_resp_perc(quest_resp_rat){\r\n\tif(typeof(quest_resp_rat) == \"undefined\"){\r\n    row_resp_perc = \"50%\";\r\n    row_ques_perc = \"50%\";\r\n  } else {\r\n    row_resp_perc = parseFloat(100-quest_resp_rat.replace(\"%\",\"\"))+\"%\";\r\n    row_ques_perc = parseFloat(quest_resp_rat.replace(\"%\",\"\"))+\"%\";\r\n  }\r\n  return [row_ques_perc,row_resp_perc];\r\n}\r\n\r\nfunction response_check(submitted_element){\r\n  console.dir(\"submitted_element\");\r\n  console.dir(submitted_element);\r\n  switch(submitted_element.type){\r\n    case \"checkbox\":\r\n      var checked_responses = $(\"[name='\"+submitted_element.name+\"']:checked\");\r\n      if(checked_responses.length){ //i.e. more than 0\r\n        var values = [];\r\n        for(var i = 0; i < checked_responses.length; i++){\r\n          values.push(checked_responses[i].value);\r\n        }\r\n        $(\"#\"+submitted_element.name+\"_response\").val(JSON.stringify(values));\r\n      } else {\r\n        $(\"#\"+submitted_element.name+\"_response\").val(\"\");\r\n      }\r\n      break;\r\n\r\n      case \"button\":\r\n        $(\"#\"+submitted_element.name+\"_response\").val(submitted_element.innerHTML);\r\n      break;\r\n\r\n      case \"number\":\r\n      case \"select-one\":\r\n      case \"text\":\r\n      case \"textarea\":\r\n        $(\"#\"+submitted_element.name+\"_response\").val(submitted_element.value);\r\n      break;\r\n\r\n\r\n      case \"radio\":\r\n        $(\"#\"+submitted_element.name+\"_response\").val(submitted_element.value);\r\n      break;\r\n    }\r\n    update_score();\r\n}\r\n\r\nfunction retrieve_feedback(this_row){\r\n  if(typeof(this_row[\"feedback\"]) !== \"undefined\" && this_row[\"feedback\"] !== \"\"){\r\n    feedback_array = this_row[\"feedback\"].split(\"|\");\r\n    if(typeof(this_row[\"feedback_color\"]) == \"undefined\"){\r\n      bootbox.alert(\"The color for the feedback options has not been set. If you created this questionnaire, please add a column 'feedback_color' to your survey and separate the colors by a pipe (|) character.\");\r\n    }\r\n    feedback_color = this_row[\"feedback_color\"].split(\"|\");\r\n  } else {\r\n    feedback_array = null;\r\n    feedback_color = '';\r\n  }\r\n  return [feedback_array,feedback_color];\r\n}\r\n\r\nfunction retrieve_row_no_item_name(this_element){\r\n  var these_classes = this_element.className.split(\" \");\r\n  var row_no;\r\n  var item_name;\r\n  these_classes.forEach(function(this_class){\r\n    if (this_class.indexOf('row_') > -1) {\r\n      row_no = this_class.replace(\"row_\",\"\");\r\n    }\r\n    if (this_class.indexOf('_item') > -1) {\r\n      item_name = this_class.replace(\"_item\",\"\").toLowerCase();\r\n    }\r\n  });\r\n  return [row_no,item_name];\r\n}\r\n\r\nfunction reveal_answers(this_element){\r\n  var this_response = $(\"#\"+this_element.id.replace(\"reveal_\",\"survey_\").replace(\"_feedback\",\"_response\")).val();\r\n  response_present = this_response == \"\" ? false : true;\r\n\r\n  if(settings.feedback_before_response == false && response_present == false){\r\n    bootbox.alert(\"Please respond before trying reveal the feedback.\")\r\n  } else {\r\n    if($(\"#\"+this_element.id).hasClass(\"btn-outline-info\")){\r\n      $(\".\"+this_element.id.replace(\"reveal_\",\"\")).show(500);\r\n      if(settings.lock_after_feedback){\r\n        var item_class = this_element.id.replace(\"_feedback\",\"_item\").replace(\"reveal_\",\"\");\r\n        $(\".\"+item_class).prop(\"disabled\",true);\r\n        document.getElementsByClassName(item_class).title = \"The person creating this content has set it so that your answers are locked in once you have chosen to see the feedback\";\r\n        $(\"#\"+this_element.id).addClass(\"btn-info\");\r\n        $(\"#\"+this_element.id).removeClass(\"btn-outline-info\");\r\n        $(\"#\"+this_element.id).html(\"Locked\");\r\n        document.getElementById(this_element.id).title = 'The person creating this content has set it so that your answers are locked in once you have chosen to see the feedback';\r\n        $(\"#\"+this_element.id).addClass(\"disabled\");\r\n      } else {\r\n        $(\"#\"+this_element.id).html(\"Hide\");\r\n        $(\"#\"+this_element.id).removeClass(\"btn-outline-info\");\r\n        $(\"#\"+this_element.id).addClass(\"btn-info\");\r\n      }\r\n    } else {\r\n      $(\"#\"+this_element.id).html(\"Show\");\r\n      $(\".\"+this_element.id.replace(\"reveal_\",\"\")).hide(500);\r\n      $(\"#\"+this_element.id).addClass(\"btn-outline-info\");\r\n      $(\"#\"+this_element.id).removeClass(\"btn-info\");\r\n    }\r\n  }\r\n}\r\n\r\nfunction shuffle(array) {                                   // http://stackoverflow.com/questions/962802#962890\r\n  var tmp, current, top = array.length;\r\n  if(top) while(--top) {\r\n    current = Math.floor(Math.random() * (top + 1));\r\n    tmp = array[current];\r\n    array[current] = array[top];\r\n    array[top] = tmp;\r\n  }\r\n  return array;\r\n}\r\n\r\nfunction update_score(){\r\n  var scales = Object.keys(survey_obj.scales);\r\n  scales.forEach(function(scale){\r\n    this_scale = survey_obj.scales[scale];\r\n    var questions = Object.keys(this_scale.questions);\r\n    var this_score = 0;\r\n    complete_score = true;\r\n\r\n    questions.forEach(function(row_no){\r\n      var item = survey_obj.data[row_no].item_name.toLowerCase();\r\n      var this_response = $(\"#survey_\"+item+\"_response\").val(); //response\r\n      var normal_reverse = this_scale.questions[row_no];\r\n\r\n      if(normal_reverse.indexOf(\"-\") == -1){\r\n        var multiplier = parseFloat(normal_reverse.replace(\"r\",\"\"));\r\n        if(normal_reverse.indexOf(\"r\") == 0){ //reverse the values\r\n          this_value = process_item_score(survey_obj,row_no,\"values\",this_response,item,\"r\");\r\n        } else {\r\n          this_value = process_item_score(survey_obj,row_no,\"values\",this_response,item);\r\n        }\r\n      } else {\r\n        values_reverse = normal_reverse.split(\"-\");\r\n        values_col     = values_reverse[0].toLowerCase();\r\n        normal_reverse = values_reverse[1];\r\n        var multiplier = parseFloat(normal_reverse.replace(\"r\",\"\"));\r\n\r\n        if(normal_reverse.indexOf(\"r\") == 0){ //reverse the values\r\n          this_value = process_item_score(survey_obj,row_no,values_col,this_response,item,\"r\");\r\n        } else {\r\n          this_value = process_item_score(survey_obj,row_no,values_col,this_response,item);\r\n        }\r\n      }\r\n      if(typeof(this_value) !== \"undefined\"){\r\n        this_score += multiplier * this_value;\r\n      } else {\r\n        complete_score = false;\r\n      }\r\n    });\r\n    if(complete_score){\r\n      $(\".score_\"+scale).addClass(\"bg-success\");\r\n      $(\".score_\"+scale).removeClass(\"bg-danger\");\r\n      $(\".score_\"+scale).addClass(\"text-light\");\r\n      document.getElementsByClassName(\"score_\"+scale).title = 'All relevant questions have been answered';\r\n    } else {\r\n      $(\".score_\"+scale).removeClass(\"text-success\");\r\n      $(\".score_\"+scale).addClass(\"bg-danger\");\r\n      $(\".score_\"+scale).addClass(\"text-light\");\r\n      document.getElementsByClassName(\"score_\"+scale).title = 'At least one relevant questions has NOT been answered';\r\n    }\r\n    $(\".score_\"+scale).val(this_score);\r\n  });\r\n}\r\n\r\nfunction write_survey(this_survey,this_id){\r\n  scoring_object.update_scales(this_survey);\r\n  this_survey_html = \"<table class='table_break' id='table0'>\";\r\n  this_survey_object={\r\n    content:[],\r\n    shuffle:[],\r\n    content_new_order:[],\r\n    shuffled_content:[],\r\n    shuffled_arrays:{},\r\n  }\r\n\r\n  this_survey_html += \"<tr>\";\r\n  for(i = 0; i < this_survey.length; i++){\r\n    this_row = this_survey[i];\r\n    row_html = process_survey_question(this_row,i);\r\n\t\tthis_survey_object.content.push(row_html[0]);\r\n    this_survey_object.shuffle.push(row_html[1]);\r\n\t}\r\n\r\n\tunique_shuffles = this_survey_object.shuffle.filter((v,i,a)=>a.indexOf(v)==i); //by Camilo Martin on https://stackoverflow.com/questions/1960473/unique-values-in-an-array\r\n\r\n\tfor(var i=0;i<unique_shuffles.length;i++){\r\n    if(typeof(unique_shuffles[i]) !== \"undefined\" &&\r\n      unique_shuffles[i] !== \"none\" &&\r\n      unique_shuffles[i] !== \"\"){\r\n        shuffled_content = this_survey_object.shuffle.map(function(element,index){\r\n    \t   if(typeof(element)!== \"undefined\" && element.toLowerCase() !== \"none\" && element.toLowerCase() == unique_shuffles[i]){\r\n  \t       return this_survey_object.content[index];\r\n    \t   }\r\n    \t}).filter(elm => typeof(elm) !== \"undefined\");\r\n    \tnew_order = shuffle(shuffled_content);\r\n    \tthis_survey_object.shuffled_arrays[unique_shuffles[i]]=new_order; // add new array with dynamic name\r\n    }\r\n\t}\r\n\r\n\t// loop through lists, taking one off from the shuffled list and replacing the row with one from the shuffled list\r\n\tfor(var i=0;i<this_survey_object.content.length;i++){\r\n    var this_index = Object.keys(this_survey_object.shuffled_arrays).indexOf(this_survey_object.shuffle[i]);\r\n    if(this_index !== -1){\r\n      //take first item off relevant list and delete item\r\n      var this_item = this_survey_object.shuffled_arrays[Object.keys(this_survey_object.shuffled_arrays)[this_index]].shift();\r\n      this_survey_object.content_new_order[i]=this_item;\r\n    } else {\r\n      this_survey_object.content_new_order[i]=this_survey_object.content[i];\r\n    }\r\n\t}\r\n\r\n\tquestions_in_order = this_survey_object.content_new_order.join(\"</tr><tr>\");\r\n\tquestions_in_order += \"</tr>\";\r\n\r\n\tthis_survey_html += questions_in_order;\r\n\tthis_survey_html += \"</table>\";\r\n\r\n\t$(\"#\" + this_id).html(this_survey_html);\r\n\r\n\t$(\"#\" + this_id).show(1000,function(){\r\n\t\t// Set all buttons to the max width\r\n\t\t/*\r\n\t\tvar maxWidth = 0;\r\n\t\t$('.btn').each(function(index, element) {\r\n\t\t\tvar curWidth = $(element).width();\r\n\t\t\tif (maxWidth < curWidth ) {\r\n\t\t\t\tmaxWidth = curWidth;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t$('.survey_btn').each(function(i) {\r\n\t\t\t$(this).delay(200).animate({\r\n\t\t\t\t\"width\" : maxWidth\r\n\t\t\t});\r\n\t\t});\r\n\t\t*/\r\n\t});\r\n\r\n\t//scroll to top\r\n\r\n\r\n\t$(\".show_tab\").on(\"click\",function(){\r\n    if(this.className.indexOf(\"disabled\") == -1){\r\n      $(\".show_tab\").removeClass(\"active\");\r\n      $(\".survey_page\").hide();\r\n      $(\"#\"+this.id.replace(\"_button\",\"\")).show();\r\n    } else {\r\n      bootbox.alert(\"You have not yet unlocked this tab - maybe try clicking on <b>Proceed</b>?\");\r\n    }\r\n\t});\r\n  $('[data-toggle=\"tooltip\"]').tooltip();\r\n  $(\".custom-checkbox\").prop(\"indeterminate\",true);\r\n}\r\n\r\n//////////////////\r\n// Load survey  //\r\n//////////////////\r\ncurrent_survey = \"{{survey}}\";\r\nif(typeof(Trial) !== \"undefined\"){  // This check is to help this code work when previewing trialtypes\r\n  Trial.set_timer(function(){       // This chunk is for when the survey is run within an actual trial\r\n    load_survey(current_survey);\r\n  },100);\r\n} else {                            // This chunk is for when the survey is being previewed in the \"survey editor\"\r\n  load_survey(current_survey);\r\n}\r\n\r\n\r\n</script>\r\n"
  },
  "procs_csv": {
    "procedure_1.csv": "item,trial type,max time,text,Shuffle 1,survey,\r\n0,create_feedback,user,,off,,\r\n0,instruct,user,information sheet will go here,off,,\r\n0,instruct,user,You will be given some arithmetic to do. Please complete in your own time,off,,\r\n0,survey,user,,off,arithmetic_feelings.csv,\r\n2 to 11,arithmetic,user,,practice,,\r\n0,survey,user,,off,arithmetic_feelings.csv,\r\n0,instruct,user,Please take a break and start the next block when you're ready,,,\r\n12 to 21,arithmetic_feedback,user,,trials,,\r\n0,survey,user,,off,arithmetic_feelings.csv,\r\n0,instruct,user,Please take a break and start the next block when you're ready,,,\r\n22 to 31,arithmetic_feedback,user,,trials,,\r\n0,survey,user,,off,arithmetic_feelings.csv,\r\n0,survey,user,,off,rotter_loc.csv,\r\n0,survey,user,,off,bfi.csv,\r\n0,survey,user,,off,py2rm_2020_single_items.csv,\r\n0,survey,user,,off,demographics.csv,\r\n0,instruct,user,debrief form will go here,off,,\r\n,,,,,,"
  },
  "stims_csv": {
    "arithmetic_questions.csv": "cue,answer,time_limit,row_1_tens,row_1_units,row_2_tens,row_2_units,add_sub_mult,answer_1,answer_2,answer_3,answer_4,answer_5,\r\nA,Apple,10000,8,8,2,5,x,40,160,400,1600,2200,\r\nB,Banana,10000,3,8,5,8,x,64,400,240,1500,2204,\r\n,,,5,8,2,8,x,64,160,400,1000,1624,\r\n,,,3,3,6,7,x,21,180,210,1800,2211,\r\n,,,3,1,6,3,x,3,60,90,1800,1953,\r\n,,,8,2,2,3,x,6,40,240,1600,1886,\r\n,,,4,9,7,2,x,18,630,80,2800,3528,\r\n,,,7,9,5,2,x,18,450,140,3500,4108,\r\n,,,4,8,8,5,x,40,640,200,3200,4080,\r\n,,,8,3,5,1,x,3,150,80,4000,4233,\r\n,,,6,9,3,1,x,9,270,60,1800,2139,\r\n,,,9,8,6,1,x,8,480,90,5400,5978,\r\n,,,1,2,8,4,x,8,160,40,800,1008,\r\n,,,4,9,7,4,x,36,630,160,2800,3626,\r\n,,,7,4,8,5,x,20,320,350,5600,6290,\r\n,,,4,7,8,6,x,42,560,240,3200,4042,\r\n,,,7,2,5,1,x,2,100,70,3500,3672,\r\n,,,6,9,1,7,x,63,90,420,600,1173,\r\n,,,5,7,3,2,x,14,210,100,1500,1824,\r\n,,,3,8,6,8,x,64,480,240,1800,2584,\r\n,,,6,3,3,3,x,9,90,180,1800,2079,\r\n,,,5,2,2,9,x,18,40,450,1000,1508,\r\n,,,4,8,5,5,x,40,400,200,2000,2640,\r\n,,,1,1,5,5,x,5,50,50,500,605,\r\n,,,7,3,8,3,x,9,240,210,5600,6059,\r\n,,,3,2,1,7,x,14,20,210,300,544,\r\n,,,5,2,3,6,x,12,60,300,1500,1872,\r\n,,,6,3,6,1,x,3,180,60,3600,3843,\r\n,,,3,8,6,9,x,72,480,270,1800,2622,\r\n,,,5,3,7,7,x,21,210,350,3500,4081,\r\n,,,,,,,,,,,,,",
    "feedback_type.csv": "cue,answer,\r\nA,Apple,\r\nB,Banana,\r\n,,"
  },
  "conditions_csv": "name,notes,stimuli,procedure,fullscreen,welcome,participant_id,end_message,start_message,buffer,scripts,\r\ncondition_1,You can put more detailed notes in this field,arithmetic_questions.csv,procedure_1.csv,off,,random,,,5,,\r\n,,,,,,,,,,,",
  "conditions": [
    {
      "name": "condition_1",
      "notes": "You can put more detailed notes in this field",
      "stimuli": "arithmetic_questions.csv",
      "procedure": "procedure_1.csv",
      "fullscreen": "off",
      "welcome": "",
      "participant_id": "random",
      "end_message": "",
      "start_message": "",
      "buffer": "5",
      "scripts": "",
      "": ""
    },
    {
      "name": "growth_first_2",
      "notes": "You can put more detailed notes in this field",
      "stimuli": "stimuli_1.csv",
      "procedure": "procedure_1.csv",
      "fullscreen": "off",
      "welcome": "",
      "participant_id": "random",
      "end_message": "",
      "start_message": "",
      "buffer": "5",
      "scripts": "",
      "": ""
    },
    {
      "name": "growth_first_3",
      "notes": "You can put more detailed notes in this field",
      "stimuli": "stimuli_1.csv",
      "procedure": "procedure_1.csv",
      "fullscreen": "off",
      "welcome": "",
      "participant_id": "random",
      "end_message": "",
      "start_message": "",
      "buffer": "5",
      "scripts": "",
      "": ""
    }
  ],
  "location": "haffey-studies/py2rm-2020-autumn",
  "storage_scripts": {
    "ocollector.org": "https://ocollector.org/StoreData10_aodirnkcu73hsjd8.php"
  },
  "mods": {}
}